{"ast":null,"code":"function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*!\n    *\n    * Wijmo Library 5.20213.824\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(e, t) {\n    return (_extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e[n] = t[n]);\n      }\n    })(e, t);\n  };\n\n  return function (e, t) {\n    _extendStatics(e, t);\n\n    function __() {\n      this.constructor = e;\n    }\n\n    e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n  };\n}();\n\nimport * as selfModule from \"@grapecity/wijmo\";\n\nvar _agent = \"undefined\" != typeof navigator ? navigator.userAgent : \"\",\n    _isMobile = null != _agent.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);\n\nexport function isMobile() {\n  return _isMobile;\n}\n\nvar _isiOS = null != _agent.match(/iPad|iPhone|iPod/i);\n\nexport function isiOS() {\n  return _isiOS;\n}\n\nvar _isFF = null != _agent.match(/Firefox\\//);\n\nexport function isFirefox() {\n  return _isFF;\n}\n\nvar _isSafari = null != _agent.match(/^((?!Chrome|Android).)*safari/i);\n\nexport function isSafari() {\n  return _isSafari;\n}\n\nvar _isEdge = null != _agent.match(/Edge\\//);\n\nexport function isEdge() {\n  return _isEdge;\n}\n\nvar _isIE = null != _agent.match(/MSIE |Trident\\/|Edge\\//);\n\nexport function isIE() {\n  return _isIE;\n}\n\nvar _isIE9 = !1;\n\nexport function isIE9() {\n  return _isIE9;\n}\n\nvar _isIE10 = !1;\n\nexport function isIE10() {\n  return _isIE10;\n}\n\nvar _supportsPassive = !1;\n\n\"undefined\" != typeof document && document.addEventListener(\"test\", function (e) {}, {\n  get passive() {\n    _supportsPassive = !0;\n    return !0;\n  }\n\n});\nexport function getEventOptions(e, t) {\n  return _supportsPassive ? {\n    capture: e,\n    passive: t\n  } : e;\n}\n\nvar _supportsFocusOptions = !1;\n\n\"undefined\" != typeof document && document.createElement(\"div\").focus({\n  get preventScroll() {\n    _supportsFocusOptions = !0;\n    return !0;\n  }\n\n});\nexport function supportsFocusOptions() {\n  return _supportsFocusOptions;\n}\nexport function _startDrag(e, t) {\n  e.effectAllowed = t;\n  isFirefox() && e.setData(\"text\", \"\");\n}\n\nif (\"undefined\" != typeof document && document.doctype) {\n  navigator.appVersion.indexOf(\"MSIE 10\") > -1 && (_isIE10 = !0);\n\n  if (navigator.appVersion.indexOf(\"MSIE 9\") > -1) {\n    _isIE9 = !0;\n    document.addEventListener(\"mousemove\", function (e) {\n      if (1 == e.which) {\n        var t = closest(e.target, \".wj-control\");\n        if (t && !t.style.cursor) for (var n = e.target; n; n = n.parentElement) {\n          if (n.attributes && n.attributes.draggable) {\n            n.dragDrop();\n            return !1;\n          }\n        }\n      }\n    });\n  }\n}\n\nif (\"undefined\" != typeof window) {\n  var raf = \"requestAnimationFrame\",\n      caf = \"cancelAnimationFrame\";\n\n  if (!window[raf]) {\n    var expectedTime_1 = 0;\n\n    window[raf] = function (e) {\n      var t = Date.now(),\n          n = 16 - (t - expectedTime_1),\n          r = n > 0 ? n : 0;\n      expectedTime_1 = t + r;\n      return setTimeout(function () {\n        e(expectedTime_1);\n      }, r);\n    };\n\n    window[caf] = clearTimeout;\n  }\n\n  if (!window.atob) {\n    var keys_1 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n        keysRe_1 = new RegExp(\"[^\" + keys_1 + \"]\");\n\n    window.atob = function (e) {\n      var t,\n          n,\n          r,\n          i,\n          o = [],\n          s = 0,\n          a = e.length;\n      if (keysRe_1.test(e) || /=/.test(e) && (/=[^=]/.test(e) || /={3}/.test(e))) throw new Error(\"Invalid base64 data\");\n      a % 4 > 0 && (a = (e += Array(4 - a % 4 + 1).join(\"=\")).length);\n\n      for (; s < a;) {\n        for (n = [], i = s; s < i + 4;) {\n          n.push(keys_1.indexOf(e.charAt(s++)));\n        }\n\n        r = [((t = (n[0] << 18) + (n[1] << 12) + ((63 & n[2]) << 6) + (63 & n[3])) & 255 << 16) >> 16, 64 === n[2] ? -1 : (65280 & t) >> 8, 64 === n[3] ? -1 : 255 & t];\n\n        for (i = 0; i < 3; ++i) {\n          (r[i] >= 0 || 0 === i) && o.push(String.fromCharCode(r[i]));\n        }\n      }\n\n      return o.join(\"\");\n    };\n\n    window.btoa = function (e) {\n      for (var t, n, r = [], i = 0, o = e.length; i < o;) {\n        t = ((n = [e.charCodeAt(i++), e.charCodeAt(i++), e.charCodeAt(i++)])[0] << 16) + ((n[1] || 0) << 8) + (n[2] || 0);\n        r.push(keys_1.charAt((t & 63 << 18) >> 18), keys_1.charAt((258048 & t) >> 12), keys_1.charAt(isNaN(n[1]) ? 64 : (4032 & t) >> 6), keys_1.charAt(isNaN(n[2]) ? 64 : 63 & t));\n      }\n\n      return r.join(\"\");\n    };\n  }\n}\n\nvar _getProxyTarget = \"undefined\" != typeof window && window.Symbol ? Symbol(\"_getProxyTarget\") : \"\\t_get\\tProxy\\tTarget\\t\";\n\nexport function _getCalculatedArray(e, t, n) {\n  var r = new WeakMap();\n\n  if (!n) {\n    var i = {};\n\n    if (e.length) {\n      var o = e[0];\n\n      for (var s in o) {\n        var a = _typeof(o[s]);\n\n        i[s] = \"string\" == a ? \"\" : \"number\" == a ? 0 : null;\n      }\n\n      n = i;\n    }\n  }\n\n  return new Proxy(e, {\n    get: function get(e, i) {\n      if (i === _getProxyTarget) return e;\n\n      if (\"string\" == typeof i || \"number\" == typeof i) {\n        if (\"indexOf\" == i) return function (t, n) {\n          var r = e.indexOf(t, n);\n          r < 0 && t && (t = t[_getProxyTarget]) && (r = e.indexOf(t, n));\n          return r;\n        };\n        var o = parseInt(i);\n\n        if (!isNaN(o)) {\n          var s = e[o];\n\n          if (s && !s[_getProxyTarget]) {\n            var a = r.get(s);\n\n            if (!a) {\n              a = _createItemProxy(s, t, n);\n              r.set(s, a);\n            }\n\n            s = a;\n          }\n\n          return s;\n        }\n      }\n\n      return Reflect.get(e, i);\n    }\n  });\n}\n\nfunction _createItemProxy(e, t, n) {\n  if (!e[_getProxyTarget]) {\n    if (isIE()) for (var r in t) {\n      e[r] = null;\n    }\n    var i = {\n      get: function get(e, r, i) {\n        if (r === _getProxyTarget) return e;\n        if (\"constructor\" === r) return function () {\n          return Object.assign({}, n || {});\n        };\n        var o = t[r];\n        if (o) switch (_typeof(o)) {\n          case \"function\":\n            return o(i);\n\n          case \"string\":\n            return _eval(o, i);\n        }\n        return e[r];\n      }\n    };\n\n    if (!isIE()) {\n      i.ownKeys = function (e) {\n        return Object.keys(e).concat(Object.keys(t));\n      };\n\n      i.getOwnPropertyDescriptor = function (e, n) {\n        return n in t ? {\n          enumerable: !0,\n          configurable: !0,\n          writable: !1\n        } : Reflect.getOwnPropertyDescriptor(e, n);\n      };\n    }\n\n    e = new Proxy(e, i);\n  }\n\n  return e;\n}\n\nexport function _getTargetObject(e) {\n  return (e ? e[_getProxyTarget] : null) || e;\n}\n\nfunction _eval(e, t) {\n  var n = [t];\n  return new (Function.bind.apply(Function, [void 0].concat([\"$\"], [\"return \" + e])))().apply(void 0, n);\n}\n\nvar _FocusService = function () {\n  function _FocusService() {\n    this._hasDoc = \"undefined\" != typeof Document;\n    this._ae = this._nativeAe();\n\n    var e = window,\n        t = this._onBlur.bind(this),\n        n = this._onFocus.bind(this);\n\n    e.addEventListener(\"focusout\", t, !0);\n    e.addEventListener(\"focusin\", n, !0);\n\n    if (!isIE()) {\n      e.addEventListener(\"blur\", t, !0);\n      e.addEventListener(\"focus\", n, !0);\n    }\n  }\n\n  Object.defineProperty(_FocusService.prototype, \"activeElement\", {\n    get: function get() {\n      var e = this._ae,\n          t = this._nativeAe();\n\n      e === _FocusService._noAe ? e = this._ae = t : e != t && (this._isSpecialRoot(e) || document.body.contains(e) || (e = this._ae = t));\n      return e !== _FocusService._noAe ? e : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _FocusService.prototype._onBlur = function (e) {\n    if (e.isTrusted) {\n      var t = e.relatedTarget;\n      this._ae = this._isSpecialRoot(t) ? this._nativeAe() : t;\n    }\n  };\n\n  _FocusService.prototype._onFocus = function (e) {\n    e.isTrusted && (this._ae = this._nativeAe());\n  };\n\n  _FocusService.prototype._isSpecialRoot = function (e) {\n    return null == e || e === document.body || this._hasDoc && e instanceof Document;\n  };\n\n  _FocusService.prototype._nativeAe = function () {\n    var e;\n\n    try {\n      e = \"unknown\" != typeof document.activeElement ? document.activeElement : _FocusService._noAe;\n    } catch (t) {\n      e = _FocusService._noAe;\n    }\n\n    return e;\n  };\n\n  _FocusService._noAe = {};\n  return _FocusService;\n}();\n\nexport var _focusSrv;\n\"undefined\" != typeof window && (_focusSrv = new _FocusService());\n\nvar Binding = function () {\n  function Binding(e) {\n    this.path = e;\n  }\n\n  Object.defineProperty(Binding.prototype, \"path\", {\n    get: function get() {\n      return this._path;\n    },\n    set: function set(e) {\n      this._path = e;\n      this._parts = e ? e.split(\".\") : [];\n\n      for (var t = 0; t < this._parts.length; t++) {\n        var n = this._parts[t],\n            r = n.indexOf(\"[\");\n\n        if (r > -1) {\n          this._parts[t] = n.substr(0, r);\n\n          this._parts.splice(++t, 0, parseInt(n.substr(r + 1)));\n        }\n      }\n\n      this._key = 1 == this._parts.length ? this._parts[0] : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Binding.prototype.getValue = function (e) {\n    if (e) {\n      if (this._key) return e[this._key];\n      if (this._path && this._path in e) return e[this._path];\n\n      for (var t = 0; t < this._parts.length && e; t++) {\n        e = e[this._parts[t]];\n      }\n    }\n\n    return e;\n  };\n\n  Binding.prototype.setValue = function (e, t) {\n    if (e) try {\n      var n = this._path;\n\n      if (n in e) {\n        e[n] = t;\n        return e[n] == t;\n      }\n\n      for (var r = 0; r < this._parts.length - 1; r++) {\n        if (null == (e = e[this._parts[r]])) return !1;\n      }\n\n      e[n = this._parts[this._parts.length - 1]] = t;\n      return e[n] == t;\n    } catch (e) {\n      return !1;\n    }\n    return !1;\n  };\n\n  return Binding;\n}();\n\nexport { Binding };\n\nvar EventHandler = function EventHandler(e, t) {\n  this.handler = e;\n  this.self = t;\n},\n    Event = function () {\n  function Event(e) {\n    this._handlers = [];\n    this._handlersChanged = e;\n  }\n\n  Event.prototype.addHandler = function (e, t) {\n    e = asFunction(e);\n\n    this._handlers.push(new EventHandler(e, t));\n\n    isFunction(this._handlersChanged) && this._handlersChanged();\n  };\n\n  Event.prototype.removeHandler = function (e, t) {\n    var n = !1;\n    e = asFunction(e);\n\n    for (var r = 0; r < this._handlers.length; r++) {\n      var i = this._handlers[r];\n\n      if (!(i.handler != e && null != e || i.self != t && null != t)) {\n        this._handlers.splice(r--, 1);\n\n        n = !0;\n        if (e && t) break;\n      }\n    }\n\n    n && isFunction(this._handlersChanged) && this._handlersChanged();\n  };\n\n  Event.prototype.removeAllHandlers = function () {\n    var e = this._handlers.length > 0;\n    this._handlers.length = 0;\n    e && isFunction(this._handlersChanged) && this._handlersChanged();\n  };\n\n  Event.prototype.raise = function (e, t) {\n    void 0 === t && (t = EventArgs.empty);\n\n    for (var n = this._handlers, r = 0; r < n.length; r++) {\n      var i = n[r];\n      i.handler.call(i.self, e, t);\n      n[r] !== i && r--;\n    }\n  };\n\n  Object.defineProperty(Event.prototype, \"hasHandlers\", {\n    get: function get() {\n      return this._handlers.length > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Event.prototype, \"handlerCount\", {\n    get: function get() {\n      return this._handlers.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return Event;\n}();\n\nexport { Event };\n\nvar EventArgs = function () {\n  function EventArgs() {}\n\n  EventArgs.empty = new EventArgs();\n  return EventArgs;\n}();\n\nexport { EventArgs };\n\nvar CancelEventArgs = function (e) {\n  __extends(CancelEventArgs, e);\n\n  function CancelEventArgs() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    t.cancel = !1;\n    return t;\n  }\n\n  return CancelEventArgs;\n}(EventArgs);\n\nexport { CancelEventArgs };\n\nvar PropertyChangedEventArgs = function (e) {\n  __extends(PropertyChangedEventArgs, e);\n\n  function PropertyChangedEventArgs(t, n, r) {\n    var i = e.call(this) || this;\n    i._name = t;\n    i._oldVal = n;\n    i._newVal = r;\n    return i;\n  }\n\n  Object.defineProperty(PropertyChangedEventArgs.prototype, \"propertyName\", {\n    get: function get() {\n      return this._name;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(PropertyChangedEventArgs.prototype, \"oldValue\", {\n    get: function get() {\n      return this._oldVal;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(PropertyChangedEventArgs.prototype, \"newValue\", {\n    get: function get() {\n      return this._newVal;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return PropertyChangedEventArgs;\n}(EventArgs);\n\nexport { PropertyChangedEventArgs };\n\nvar RequestErrorEventArgs = function (e) {\n  __extends(RequestErrorEventArgs, e);\n\n  function RequestErrorEventArgs(t, n) {\n    var r = e.call(this) || this;\n    r._xhr = t;\n    r._msg = n;\n    return r;\n  }\n\n  Object.defineProperty(RequestErrorEventArgs.prototype, \"request\", {\n    get: function get() {\n      return this._xhr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RequestErrorEventArgs.prototype, \"message\", {\n    get: function get() {\n      return this._msg;\n    },\n    set: function set(e) {\n      this._msg = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return RequestErrorEventArgs;\n}(CancelEventArgs);\n\nexport { RequestErrorEventArgs };\nexport var NotifyCollectionChangedAction;\n!function (e) {\n  e[e.Add = 0] = \"Add\";\n  e[e.Remove = 1] = \"Remove\";\n  e[e.Change = 2] = \"Change\";\n  e[e.Reset = 3] = \"Reset\";\n}(NotifyCollectionChangedAction || (NotifyCollectionChangedAction = {}));\n\nvar NotifyCollectionChangedEventArgs = function (e) {\n  __extends(NotifyCollectionChangedEventArgs, e);\n\n  function NotifyCollectionChangedEventArgs(t, n, r) {\n    void 0 === t && (t = NotifyCollectionChangedAction.Reset);\n    void 0 === n && (n = null);\n    void 0 === r && (r = -1);\n    var i = e.call(this) || this;\n    i.action = t;\n    i.item = n;\n    i.index = r;\n    return i;\n  }\n\n  NotifyCollectionChangedEventArgs.reset = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Reset);\n  return NotifyCollectionChangedEventArgs;\n}(EventArgs);\n\nexport { NotifyCollectionChangedEventArgs };\n\nvar SortDescription = function () {\n  function SortDescription(e, t) {\n    this._bnd = new Binding(e);\n    this._asc = t;\n  }\n\n  Object.defineProperty(SortDescription.prototype, \"property\", {\n    get: function get() {\n      return this._bnd.path;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(SortDescription.prototype, \"ascending\", {\n    get: function get() {\n      return this._asc;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return SortDescription;\n}();\n\nexport { SortDescription };\n\nvar PageChangingEventArgs = function (e) {\n  __extends(PageChangingEventArgs, e);\n\n  function PageChangingEventArgs(t) {\n    var n = e.call(this) || this;\n    n.newPageIndex = t;\n    return n;\n  }\n\n  return PageChangingEventArgs;\n}(CancelEventArgs);\n\nexport { PageChangingEventArgs };\n\nvar GroupDescription = function () {\n  function GroupDescription() {}\n\n  GroupDescription.prototype.groupNameFromItem = function (e, t) {\n    return \"\";\n  };\n\n  GroupDescription.prototype.namesMatch = function (e, t) {\n    return e === t;\n  };\n\n  return GroupDescription;\n}();\n\nexport { GroupDescription };\n\nvar PropertyGroupDescription = function (e) {\n  __extends(PropertyGroupDescription, e);\n\n  function PropertyGroupDescription(t, n) {\n    var r = e.call(this) || this;\n    r._bnd = new Binding(t);\n    r._converter = n;\n    return r;\n  }\n\n  Object.defineProperty(PropertyGroupDescription.prototype, \"propertyName\", {\n    get: function get() {\n      return this._bnd.path;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  PropertyGroupDescription.prototype.groupNameFromItem = function (e, t) {\n    return this._converter ? this._converter(e, this.propertyName) : this._bnd.getValue(e);\n  };\n\n  PropertyGroupDescription.prototype.namesMatch = function (e, t) {\n    return e === t;\n  };\n\n  return PropertyGroupDescription;\n}(GroupDescription);\n\nexport { PropertyGroupDescription };\nvar _VERSION = \"5.20213.824\";\nexport function getVersion() {\n  return _VERSION;\n}\nexport function setLicenseKey(e) {\n  Control._licKey = e;\n}\nexport var Key;\n!function (e) {\n  e[e.Back = 8] = \"Back\";\n  e[e.Tab = 9] = \"Tab\";\n  e[e.Enter = 13] = \"Enter\";\n  e[e.Escape = 27] = \"Escape\";\n  e[e.Space = 32] = \"Space\";\n  e[e.PageUp = 33] = \"PageUp\";\n  e[e.PageDown = 34] = \"PageDown\";\n  e[e.End = 35] = \"End\";\n  e[e.Home = 36] = \"Home\";\n  e[e.Left = 37] = \"Left\";\n  e[e.Up = 38] = \"Up\";\n  e[e.Right = 39] = \"Right\";\n  e[e.Down = 40] = \"Down\";\n  e[e.Delete = 46] = \"Delete\";\n  e[e.F1 = 112] = \"F1\";\n  e[e.F2 = 113] = \"F2\";\n  e[e.F3 = 114] = \"F3\";\n  e[e.F4 = 115] = \"F4\";\n  e[e.F5 = 116] = \"F5\";\n  e[e.F6 = 117] = \"F6\";\n  e[e.F7 = 118] = \"F7\";\n  e[e.F8 = 119] = \"F8\";\n  e[e.F9 = 120] = \"F9\";\n  e[e.F10 = 121] = \"F10\";\n  e[e.F11 = 122] = \"F11\";\n  e[e.F12 = 123] = \"F12\";\n}(Key || (Key = {}));\nexport var DataType;\n!function (e) {\n  e[e.Object = 0] = \"Object\";\n  e[e.String = 1] = \"String\";\n  e[e.Number = 2] = \"Number\";\n  e[e.Boolean = 3] = \"Boolean\";\n  e[e.Date = 4] = \"Date\";\n  e[e.Array = 5] = \"Array\";\n}(DataType || (DataType = {}));\nexport function tryCast(e, t) {\n  return null == e ? null : isString(t) ? isFunction(e.implementsInterface) && e.implementsInterface(t) ? e : null : e instanceof t ? e : null;\n}\nexport function isPrimitive(e) {\n  return isString(e) || isNumber(e) || isBoolean(e) || isDate(e);\n}\nexport function isString(e) {\n  return \"string\" == typeof e;\n}\nexport function isNullOrWhiteSpace(e) {\n  return !e || !/\\S/.test(e);\n}\nexport function isNumber(e) {\n  return \"number\" == typeof e;\n}\nexport function isInt(e) {\n  return isNumber(e) && e == Math.round(e);\n}\nexport function isBoolean(e) {\n  return \"boolean\" == typeof e;\n}\nexport function isFunction(e) {\n  return \"function\" == typeof e;\n}\nexport function isUndefined(e) {\n  return void 0 === e;\n}\nexport function isDate(e) {\n  return (e instanceof Date || \"[object Date]\" === Object.prototype.toString.call(e)) && !isNaN(e.getTime());\n}\nexport function isArray(e) {\n  return e instanceof Array || Array.isArray(e) || \"[object Array]\" === Object.prototype.toString.call(e);\n}\nexport function isObject(e) {\n  return null != e && \"object\" == _typeof(e) && !isDate(e) && !isArray(e);\n}\nexport function isEmpty(e) {\n  for (var t in e) {\n    return !1;\n  }\n\n  return !0;\n}\nexport function getUniqueId(e) {\n  for (var t = e, n = 0; null != document.getElementById(t); n++) {\n    t = e + n;\n  }\n\n  return t;\n}\nexport function mouseToPage(e) {\n  if (e instanceof Point) return e;\n  e && e.touches && e.touches.length > 0 && (e = e.touches[0]);\n  if (isNumber(e.clientX) && isNumber(e.clientY)) return new Point(e.clientX + pageXOffset, e.clientY + pageYOffset);\n  throw \"Mouse or touch event expected.\";\n}\nexport function getType(e) {\n  return isNumber(e) ? DataType.Number : isBoolean(e) ? DataType.Boolean : isDate(e) ? DataType.Date : isString(e) ? DataType.String : isArray(e) ? DataType.Array : DataType.Object;\n}\nexport function getTypes(e, t) {\n  void 0 === t && (t = 1e3);\n  if (!e) return [];\n  var n = e.length;\n  (t <= 0 || n < t) && (t = n);\n  var r = [];\n\n  if (t) {\n    for (var i = Object.keys(e[0]), o = {}, s = i.slice(), a = 0; a < t; a++) {\n      for (var l = e[a], u = s.length - 1; u >= 0; u--) {\n        var c = s[u],\n            h = l[c];\n\n        if (isPrimitive(h)) {\n          var p = Object.getOwnPropertyDescriptor(e[a], c);\n          o[c] = {\n            binding: c,\n            dataType: getType(h),\n            isReadOnly: p && !p.writable && !p.set\n          };\n          s.splice(u, 1);\n        }\n      }\n\n      if (!s.length) break;\n    }\n\n    for (a = 0; a < i.length; a++) {\n      var f = o[i[a]];\n      f && r.push(f);\n    }\n  }\n\n  return r;\n}\nexport function changeType(e, t, n, r) {\n  if (null != e) {\n    var i = DataType;\n    if (isString(e)) switch (t) {\n      case i.Number:\n        var o = Globalize.parseFloat(e, n);\n        return isNaN(o) ? e : o;\n\n      case i.Date:\n        var s = Globalize.parseDate(e, n, isDate(r) ? r : null);\n        s || n || !e || (s = new Date(e));\n        return s && isFinite(s.getTime()) ? s : e;\n\n      case i.Boolean:\n        switch (e.toLowerCase()) {\n          case \"true\":\n            return !0;\n\n          case \"false\":\n            return !1;\n        }\n\n        return e;\n\n      case i.Array:\n        try {\n          var a = e.split(\",\").map(function (e) {\n            return (e = e.trim()).match(/^(\\+|\\-)?\\d+\\.?\\d*$/) ? e : '\"' + e + '\"';\n          });\n          return JSON.parse(\"[\" + a.join(\",\") + \"]\");\n        } catch (e) {}\n\n    }\n    if (t == DataType.String) return Globalize.format(e, n);\n  }\n\n  return e;\n}\nexport function toFixed(e, t, n) {\n  if (n) {\n    var r = (a = e.toString()).indexOf(\"e\"),\n        i = a.indexOf(\".\");\n\n    if (r > -1) {\n      if (\"-\" === a[r + 1]) {\n        var o = parseFloat(a.substr(r + 2)),\n            s = a.substr(0, r);\n        i > -1 && (s = s.substr(0, i) + s.substr(i + 1));\n        a = \"0.\" + (Array(o).join(\"0\") + s).substr(0, t);\n        e = parseFloat(a);\n      }\n    } else if (i > -1) {\n      a = a.substr(0, i + 1 + t);\n      e = parseFloat(a);\n    }\n  } else {\n    var a = e.toFixed(t);\n    e = parseFloat(a);\n  }\n\n  return e;\n}\nexport function format(e, t, n) {\n  if ((e = asString(e)).match(/\\{.*\"count\".*:.*\"when\".*:.*\\}/)) try {\n    var r = JSON.parse(e);\n\n    if (isString(r.count)) {\n      var i = t[r.count],\n          o = r.when;\n\n      if (isNumber(i) && isObject(o)) {\n        var s = o[i] || o.other;\n        isString(s) && (e = s);\n      }\n    }\n  } catch (e) {}\n  return e.replace(/\\{(.*?)(:(.*?))?\\}/g, function (e, r, i, o) {\n    var s = e;\n\n    if (r && \"{\" != r[0] && t) {\n      s = new Binding(r).getValue(t);\n      o && (s = Globalize.format(s, o));\n      n && (s = n(t, r, o, s));\n    }\n\n    return null == s ? \"\" : s;\n  });\n}\nexport function glbz() {\n  for (var e = [], t = 0; t < arguments.length; t++) {\n    e[t] = arguments[t];\n  }\n\n  var n = [],\n      r = -1;\n  e[0].forEach(function (t, i) {\n    if (i > 0 && i != r) {\n      var o = e[i],\n          s = t.match(/^:([a-z][0-9]*\\b)/i) || t.match(/^:'(.+?)'/) || t.match(/^:\"(.+?)\"/);\n\n      if (s) {\n        o = Globalize.format(o, s[1]);\n        t = t.substr(s[0].length);\n      } else if (\":\" == t && i < e.length - 1 && (isNumber(o) || isDate(o))) {\n        o = Globalize.format(o, e[i + 1]);\n        t = \"\";\n        r = i + 1;\n      }\n\n      n.push(o);\n    }\n\n    t && n.push(t);\n  });\n  return n.join(\"\");\n}\nexport function evalTemplate(e, t) {\n  if (isIE()) {\n    return (e = e.replace(/:\\${([^}]*)}/g, function (e, n) {\n      return \":\" + _evalExpression(n, t);\n    })).replace(/\\${([^}]*)}(:(([A-Za-z]\\d*)|\"([^\"]+)\"|'([^']+)'))?/g, function (e, n, r, i, o, s, a) {\n      var l = _evalExpression(n, t);\n\n      return i ? Globalize.format(l, o || s || a) : l;\n    });\n  }\n\n  return _evalExpression(e, t);\n}\n\nfunction _evalExpression(e, t) {\n  (t = t || {}).glbz = glbz;\n  var n = Object.keys(t),\n      r = n.map(function (e) {\n    return t[e];\n  });\n  return (isIE() ? new (Function.bind.apply(Function, [void 0].concat(n, [\"return \" + e])))() : new (Function.bind.apply(Function, [void 0].concat(n, [\"return glbz`\" + e + \"`\"])))()).apply(void 0, r);\n}\n\nexport function clamp(e, t, n) {\n  if (null != e) {\n    null != n && e > n && (e = n);\n    null != t && e < t && (e = t);\n  }\n\n  return e;\n}\nexport function copy(e, t) {\n  if (t) for (var n in t) {\n    if (\"_\" != n[0]) {\n      assert(n in e, 'Unknown property \"' + n + '\".');\n      var r = t[n];\n      e._copy && e._copy(n, r) || (e[n] instanceof Event ? isFunction(r) && e[n].addHandler(r) : !isObject(r) || \"undefined\" != typeof Element && r instanceof Element || !e[n] || \"itemsSource\" == n ? e[n] = r : copy(e[n], r));\n    }\n  }\n  return e;\n}\nexport function assert(e, t) {\n  if (!e) {\n    t = \"** Assertion failed in Wijmo: \" + t;\n    var n = new Error();\n    isString(n.stack) && (t += \" \" + n.stack);\n    throw t;\n  }\n}\nexport function _deprecated(e, t) {\n  console.error('** WARNING: \"' + e + '\" has been deprecated; please use \"' + t + '\" instead.');\n}\nexport function asString(e, t) {\n  void 0 === t && (t = !0);\n  isUndefined(e) && (e = null);\n  assert(t && null == e || isString(e), \"String expected.\");\n  return e;\n}\nexport function asNumber(e, t, n) {\n  void 0 === t && (t = !1);\n  void 0 === n && (n = !1);\n  assert(t && null == e || isNumber(e), \"Number expected.\");\n  if (n && e && e < 0) throw \"Positive number expected.\";\n  return e;\n}\nexport function asInt(e, t, n) {\n  void 0 === t && (t = !1);\n  void 0 === n && (n = !1);\n  assert(t && null == e || isInt(e), \"Integer expected.\");\n  if (n && e && e < 0) throw \"Positive integer expected.\";\n  return e;\n}\nexport function asBoolean(e, t) {\n  void 0 === t && (t = !1);\n  assert(t && null == e || isBoolean(e), \"Boolean expected.\");\n  return e;\n}\nexport function asDate(e, t) {\n  void 0 === t && (t = !1);\n\n  if (isString(e)) {\n    var n = changeType(e, DataType.Date, \"r\");\n    isDate(n) && (e = n);\n  }\n\n  assert(t && null == e || isDate(e), \"Date expected.\");\n  return e;\n}\nexport function asFunction(e, t) {\n  void 0 === t && (t = !0);\n  assert(t && null == e || isFunction(e), \"Function expected.\");\n  return e;\n}\nexport function asArray(e, t) {\n  void 0 === t && (t = !0);\n  assert(t && null == e || isArray(e), \"Array expected.\");\n  return e;\n}\nexport function asType(e, t, n) {\n  void 0 === n && (n = !1);\n  e = tryCast(e, t);\n  assert(n || null != e, t + \" expected.\");\n  return e;\n}\nexport function asEnum(e, t, n) {\n  void 0 === n && (n = !1);\n  if (null == e && n) return null;\n  var r = isString(e) ? t[e] : e;\n  assert(null != r, 'Invalid enum value: \"' + e + '\"');\n  return isNumber(r) ? r : e;\n}\nexport function asCollectionView(e, t) {\n  void 0 === t && (t = !0);\n  if (null == e && t) return null;\n  var n = tryCast(e, \"ICollectionView\");\n  if (null != n) return n;\n  isArray(e) || assert(!1, \"Array or ICollectionView expected.\");\n  return new CollectionView(e);\n}\nexport function hasItems(e) {\n  return null != e && null != e.items && e.items.length > 0;\n}\nexport function toHeaderCase(e) {\n  return e && e.length ? e[0].toUpperCase() + e.substr(1).replace(/([a-z])([A-Z])/g, \"$1 $2\") : \"\";\n}\nexport function escapeHtml(e) {\n  e && isString(e) && (e = e.replace(/[&<>\"'\\/]/g, function (e) {\n    return _ENTITYMAP[e];\n  }));\n  return null != e ? e.toString() : \"\";\n}\n\nvar _plainText,\n    _ENTITYMAP = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\",\n  \"/\": \"&#x2F;\"\n};\n\nexport function escapeRegExp(e) {\n  return e.replace(/([.?*+^$[\\]\\\\(){}|-])/g, \"\\\\$1\");\n}\nexport function toPlainText(e) {\n  var t = asString(e);\n\n  if (isString(t) && t.indexOf(\"<\") > -1) {\n    _plainText || (_plainText = document.createElement(\"div\"));\n    _plainText.innerHTML = t;\n    t = _plainText.textContent;\n  }\n\n  return t;\n}\nexport function hasClass(e, t) {\n  if (e && t) {\n    if (e instanceof HTMLElement && e.classList && !isIE9()) return e.classList.contains(t);\n\n    if (e.getAttribute) {\n      var n = new RegExp(\"(\\\\s|^)\" + t + \"(\\\\s|$)\");\n      return e && n.test(e.getAttribute(\"class\"));\n    }\n  }\n\n  return !1;\n}\nexport function addClass(e, t) {\n  if (e && t) {\n    if (e instanceof HTMLElement && e.classList && !isIE9()) {\n      t.indexOf(\" \") < 0 ? e.classList.add(t) : t.split(\" \").forEach(function (t) {\n        e.classList.add(t);\n      });\n      return;\n    }\n\n    e.setAttribute && t.split(\" \").forEach(function (t) {\n      if (!hasClass(e, t)) {\n        var n = e.getAttribute(\"class\");\n        e.setAttribute(\"class\", n ? n + \" \" + t : t);\n      }\n    });\n  }\n}\nexport function removeClass(e, t) {\n  if (e && t) {\n    if (e instanceof HTMLElement && e.classList && !isIE9()) {\n      t.indexOf(\" \") < 0 ? e.classList.remove(t) : t.split(\" \").forEach(function (t) {\n        e.classList.remove(t);\n      });\n      return;\n    }\n\n    e.setAttribute && t.split(\" \").forEach(function (t) {\n      if (hasClass(e, t)) {\n        var n = new RegExp(\"((\\\\s|^)\" + t + \"(\\\\s|$))\", \"g\"),\n            r = e.getAttribute(\"class\");\n        (r = r.replace(n, \" \").replace(/ +/g, \" \").trim()) ? e.setAttribute(\"class\", r) : e.removeAttribute(\"class\");\n      }\n    });\n  }\n}\nexport function toggleClass(e, t, n) {\n  null == n && (n = !hasClass(e, t));\n  n ? addClass(e, t) : removeClass(e, t);\n}\nexport function setAttribute(e, t, n, r) {\n  e && (null != n ? r && e.getAttribute(t) || e.setAttribute(t, n.toString()) : e.removeAttribute(t));\n}\nexport function setChecked(e, t) {\n  var n = null == t;\n  e.checked = isIE() ? t || n : t;\n  e.indeterminate = n;\n}\nexport function setAriaLabel(e, t) {\n  setAttribute(e, \"aria-label\", t);\n}\nexport function setSelectionRange(e, t, n) {\n  void 0 === n && (n = t);\n  assert(e instanceof HTMLInputElement || e instanceof HTMLTextAreaElement, \"INPUT or TEXTAREA element expected\");\n\n  if (contains(document.body, e) && !e.disabled && e.offsetHeight) {\n    try {\n      e.setSelectionRange(t, n, \"backward\");\n    } catch (e) {}\n\n    try {\n      e.focus();\n      return !0;\n    } catch (e) {}\n  }\n\n  return !1;\n}\nexport function disableAutoComplete(e) {\n  var t = \"autocomplete\",\n      n = e.getAttribute(t);\n  n && \"on\" != n || e.setAttribute(t, \"off\");\n  \"autocorrect,autocapitalize,spellcheck\".split(\",\").forEach(function (t) {\n    e.setAttribute(t, \"spellcheck\" == t ? \"false\" : \"off\");\n  });\n}\nexport function removeChild(e) {\n  return e && e.parentNode ? e.parentNode.removeChild(e) : null;\n}\nexport function getActiveElement() {\n  var e = document.activeElement;\n\n  if (e) {\n    var t = e.shadowRoot;\n    t && t.activeElement && (e = t.activeElement);\n  }\n\n  return e;\n}\nexport function _getActiveElement() {\n  var e = _focusSrv.activeElement;\n\n  if (e) {\n    var t = e.shadowRoot;\n    t && t.activeElement && (e = t.activeElement);\n  }\n\n  return e;\n}\nexport function moveFocus(e, t) {\n  var n = _getFocusableElements(e),\n      r = 0;\n\n  if (t) {\n    var i = n.indexOf(getActiveElement());\n    i > -1 && (r = (i + t + n.length) % n.length);\n  }\n\n  if (r < n.length) {\n    var o = n[r];\n    o.focus();\n    o instanceof HTMLInputElement && o.select();\n    return !0;\n  }\n\n  return !1;\n}\n\nfunction _getFocusableElements(e) {\n  var t = [],\n      n = Array.prototype.slice.call(e.querySelectorAll(\"input,select,textarea,button,a,div\"));\n  n.sort(function (e, t) {\n    return e.tabIndex - t.tabIndex;\n  });\n\n  for (var r = 0; r < n.length; r++) {\n    var i = n[r];\n\n    if (i.offsetHeight > 0 && i.tabIndex > -1 && !i.disabled && \"hidden\" !== window.getComputedStyle(i).visibility && !closest(i, \"[disabled],.wj-state-disabled\")) {\n      if (i instanceof HTMLAnchorElement && !i.hasAttribute(\"href\")) continue;\n\n      if (isIE() && !i.hasAttribute(\"tabindex\")) {\n        if (i instanceof HTMLDivElement) continue;\n        var o = Control.getControl(closest(i, \".wj-flexgrid\"));\n        if (o && 0 == o.keyActionTab) continue;\n      }\n\n      !Control.getControl(i) && _getFocusableElements(i).length || t.push(i);\n    }\n  }\n\n  return t;\n}\n\nexport function saveFile(e, t, n) {\n  void 0 === n && (n = \"text/plain\");\n  var r = e instanceof Blob;\n  r || !n.match(/\\bcsv\\b/i) && !t.match(/\\.csv$/i) || (e = \"\\uFEFF\" + e);\n  var i = r ? e : new Blob([e], {\n    type: n\n  });\n  if (isFunction(navigator.msSaveOrOpenBlob)) navigator.msSaveOrOpenBlob(i, t);else {\n    var o = document.createElement(\"a\"),\n        click = function click(e) {\n      var t = document.createEvent(\"MouseEvents\");\n      t.initMouseEvent(\"click\", !0, !1, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);\n      e.dispatchEvent(t);\n    };\n\n    if (\"download\" in o) {\n      var s = window.URL || window.webkitURL,\n          a = s.createObjectURL(i);\n      o.href = a;\n      o.target = \"_blank\";\n      o.download = t;\n      click(o);\n      o = null;\n      window.setTimeout(function () {\n        s.revokeObjectURL(a);\n      }, 3e4);\n    } else {\n      var l = new FileReader();\n\n      l.onloadend = function () {\n        o.href = l.result;\n        o.download = t;\n        click(o);\n        o = null;\n      };\n\n      l.readAsDataURL(i);\n    }\n  }\n}\nexport function getElement(e) {\n  if (e instanceof Element) return e;\n  if (isString(e)) try {\n    return document.querySelector(e);\n  } catch (e) {}\n  return e && e.jquery ? e[0] : null;\n}\nexport function createElement(e, t, n) {\n  e = e.replace(/\\bstyle\\s*=\\s*\"/g, '_wj-style=\"');\n  var r = document.createElement(\"div\");\n  r.innerHTML = e;\n  if (e.indexOf(\"_wj-style\") > -1) for (var i = r.querySelectorAll(\"[_wj-style]\"), _loop_1 = function _loop_1(e) {\n    var t = i[e];\n    t.getAttribute(\"_wj-style\").split(\";\").forEach(function (e) {\n      var n = e.split(\":\");\n      2 == n.length && (t.style[n[0].trim()] = n[1].trim());\n    });\n    t.removeAttribute(\"_wj-style\");\n  }, o = 0; o < i.length; o++) {\n    _loop_1(o);\n  }\n  1 == r.children.length && (r = r.children[0]);\n  n && setCss(r, n);\n  t && (t = getElement(t)).appendChild(r);\n  return r;\n}\nexport function setText(e, t) {\n  e.textContent = t || \"\";\n}\nexport function contains(e, t, n) {\n  for (var r = t; r && e;) {\n    if (r === e) return !0;\n    r = (n ? r[Control._OWNR_KEY] : null) || r.parentNode || r.host;\n  }\n\n  return !1;\n}\nexport function closest(e, t) {\n  if (e) {\n    if (isFunction(e.closest)) return e.closest(t);\n    var n = e.matches || e.webkitMatchesSelector || e.msMatchesSelector || e.mozMatchesSelector;\n    if (n) for (; e && 1 === e.nodeType; e = e.parentElement || e.parentNode) {\n      if (n.call(e, t)) return e;\n    }\n  }\n\n  return null;\n}\nexport function closestClass(e, t) {\n  return closest(e, \".\" + t);\n}\nexport function enable(e, t) {\n  var n = !t,\n      r = \"disabled\";\n  toggleClass(e, \"wj-state-disabled\", n);\n  setAttribute(e, r, n ? r : null);\n\n  for (var i = e.querySelectorAll(\"input,button\"), o = 0; o < i.length; o++) {\n    setAttribute(i[o], r, n ? r : null);\n  }\n}\nexport function getElementRect(e) {\n  var t = e.getBoundingClientRect();\n  return new Rect(t.left + pageXOffset, t.top + pageYOffset, t.width, t.height);\n}\nexport function setCss(e, t) {\n  assert(isObject(t), \"css parameter should be an object\");\n  if (e instanceof Array) for (var n = 0; n < e.length; n++) {\n    setCss(e[n], t);\n  } else if (e && e.style) {\n    var r = e.style;\n\n    for (var i in t) {\n      var o = t[i];\n      \"number\" == typeof o && i.match(/width|height|left|top|right|bottom|size|padding|margin'/i) && (o += \"px\");\n      r[i] !== o && (r[i] = o);\n    }\n  }\n}\nexport function animate(e, t, n) {\n  null == t && (t = Control._ANIM_DEF_DURATION);\n  null == n && (n = Control._ANIM_DEF_STEP);\n  e = asFunction(e);\n  t = asNumber(t, !1, !0);\n  n = asNumber(n, !1, !0);\n  var r,\n      i = Date.now(),\n      o = setInterval(function () {\n    var n = Math.min(1, (Date.now() - i) / t);\n    n = Math.sin(n * Math.PI / 2);\n    n *= n;\n    r && cancelAnimationFrame(r);\n    r = requestAnimationFrame(function () {\n      r = null;\n      e(n);\n    });\n    n >= 1 && clearInterval(o);\n  }, n);\n  return o;\n}\n\nvar Point = function () {\n  function Point(e, t) {\n    void 0 === e && (e = 0);\n    void 0 === t && (t = 0);\n    this.x = asNumber(e);\n    this.y = asNumber(t);\n  }\n\n  Point.prototype.equals = function (e) {\n    return e instanceof Point && this.x == e.x && this.y == e.y;\n  };\n\n  Point.prototype.clone = function () {\n    return new Point(this.x, this.y);\n  };\n\n  return Point;\n}();\n\nexport { Point };\n\nvar Size = function () {\n  function Size(e, t) {\n    void 0 === e && (e = 0);\n    void 0 === t && (t = 0);\n    this.width = asNumber(e);\n    this.height = asNumber(t);\n  }\n\n  Size.prototype.equals = function (e) {\n    return e instanceof Size && this.width == e.width && this.height == e.height;\n  };\n\n  Size.prototype.clone = function () {\n    return new Size(this.width, this.height);\n  };\n\n  return Size;\n}();\n\nexport { Size };\n\nvar Rect = function () {\n  function Rect(e, t, n, r) {\n    this.left = asNumber(e);\n    this.top = asNumber(t);\n    this.width = asNumber(n);\n    this.height = asNumber(r);\n  }\n\n  Object.defineProperty(Rect.prototype, \"right\", {\n    get: function get() {\n      return this.left + this.width;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Rect.prototype, \"bottom\", {\n    get: function get() {\n      return this.top + this.height;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Rect.prototype.equals = function (e) {\n    return e instanceof Rect && this.left == e.left && this.top == e.top && this.width == e.width && this.height == e.height;\n  };\n\n  Rect.prototype.clone = function () {\n    return new Rect(this.left, this.top, this.width, this.height);\n  };\n\n  Rect.fromBoundingRect = function (e) {\n    if (null != e.left) return new Rect(e.left, e.top, e.width, e.height);\n    if (null != e.x) return new Rect(e.x, e.y, e.width, e.height);\n    assert(!1, \"Invalid source rectangle.\");\n  };\n\n  Rect.union = function (e, t) {\n    var n = Math.min(e.left, t.left),\n        r = Math.min(e.top, t.top);\n    return new Rect(n, r, Math.max(e.right, t.right) - n, Math.max(e.bottom, t.bottom) - r);\n  };\n\n  Rect.intersection = function (e, t) {\n    var n = Math.max(e.left, t.left),\n        r = Math.max(e.top, t.top);\n    return new Rect(n, r, Math.min(e.right, t.right) - n, Math.min(e.bottom, t.bottom) - r);\n  };\n\n  Rect.prototype.contains = function (e) {\n    if (e instanceof Point) return e.x >= this.left && e.x <= this.right && e.y >= this.top && e.y <= this.bottom;\n\n    if (e instanceof Rect) {\n      var t = e;\n      return t.left >= this.left && t.right <= this.right && t.top >= this.top && t.bottom <= this.bottom;\n    }\n\n    assert(!1, \"Point or Rect expected.\");\n  };\n\n  Rect.prototype.inflate = function (e, t) {\n    return new Rect(this.left - e, this.top - t, this.width + 2 * e, this.height + 2 * t);\n  };\n\n  return Rect;\n}();\n\nexport { Rect };\n\nvar DateTime = function () {\n  function DateTime() {}\n\n  DateTime.addDays = function (e, t) {\n    (e = new Date(e.getTime())).setDate(e.getDate() + t);\n    return e;\n  };\n\n  DateTime.addMonths = function (e, t) {\n    var n = (e = new Date(e.getTime())).getDate();\n    e.setMonth(e.getMonth() + t);\n    e.getDate() != n && e.setDate(0);\n    return e;\n  };\n\n  DateTime.addYears = function (e, t) {\n    (e = new Date(e.getTime())).setFullYear(e.getFullYear() + t);\n    return e;\n  };\n\n  DateTime.addHours = function (e, t) {\n    (e = new Date(e.getTime())).setHours(e.getHours() + t);\n    return e;\n  };\n\n  DateTime.addMinutes = function (e, t) {\n    (e = new Date(e.getTime())).setMinutes(e.getMinutes() + t);\n    return e;\n  };\n\n  DateTime.addSeconds = function (e, t) {\n    (e = new Date(e.getTime())).setSeconds(e.getSeconds() + t);\n    return e;\n  };\n\n  DateTime.weekFirst = function (e, t) {\n    void 0 === t && (t = Globalize.getFirstDayOfWeek());\n    return DateTime.addDays(e, -(e.getDay() - t));\n  };\n\n  DateTime.weekLast = function (e, t) {\n    void 0 === t && (t = Globalize.getFirstDayOfWeek());\n    e = DateTime.weekFirst(e, t);\n    return DateTime.addDays(e, 6);\n  };\n\n  DateTime.monthFirst = function (e) {\n    return DateTime.addDays(e, 1 - e.getDate());\n  };\n\n  DateTime.monthLast = function (e) {\n    e = DateTime.monthFirst(e);\n    e = DateTime.addMonths(e, 1);\n    return DateTime.addDays(e, -1);\n  };\n\n  DateTime.yearFirst = function (e) {\n    return new Date(e.getFullYear(), 0, 1);\n  };\n\n  DateTime.yearLast = function (e) {\n    return new Date(e.getFullYear(), 11, 31);\n  };\n\n  DateTime.sameDate = function (e, t) {\n    return isDate(e) && isDate(t) && e.getFullYear() == t.getFullYear() && e.getMonth() == t.getMonth() && e.getDate() == t.getDate();\n  };\n\n  DateTime.sameTime = function (e, t) {\n    return isDate(e) && isDate(t) && e.getHours() == t.getHours() && e.getMinutes() == t.getMinutes() && e.getSeconds() == t.getSeconds() && e.getMilliseconds() == t.getMilliseconds();\n  };\n\n  DateTime.equals = function (e, t) {\n    return null == e && null == t || isDate(e) && isDate(t) && e.getTime() == t.getTime();\n  };\n\n  DateTime.fromDateTime = function (e, t) {\n    if (!e && !t) return null;\n    e || (e = t);\n    t || (t = e);\n    return DateTime.newDate(e.getFullYear(), e.getMonth(), e.getDate(), t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds());\n  };\n\n  DateTime.toFiscal = function (e, t) {\n    var n = culture.Globalize.calendar;\n    return isArray(n.fiscalYearOffsets) ? DateTime.addMonths(e, -n.fiscalYearOffsets[t ? 0 : 1]) : e;\n  };\n\n  DateTime.fromFiscal = function (e, t) {\n    var n = culture.Globalize.calendar;\n    return isArray(n.fiscalYearOffsets) ? DateTime.addMonths(e, +n.fiscalYearOffsets[t ? 0 : 1]) : e;\n  };\n\n  DateTime.newDate = function (e, t, n, r, i, o, s) {\n    if (null == e || null == t || null == n) {\n      var a = new Date();\n      null == e && (e = a.getFullYear());\n      null == t && (t = a.getMonth());\n      null == n && (n = a.getDate());\n    }\n\n    null == r && (r = 0);\n    null == i && (i = 0);\n    null == o && (o = 0);\n    null == s && (s = 0);\n    var l = new Date(e, t, n, r, i, o, s),\n        u = l.getFullYear();\n    e < 100 && u >= 1900 && l.setFullYear(l.getFullYear() - 1900);\n    return l;\n  };\n\n  DateTime.clone = function (e) {\n    return DateTime.fromDateTime(e, e);\n  };\n\n  return DateTime;\n}();\n\nexport { DateTime };\nexport function httpRequest(e, t) {\n  var n = t || {},\n      r = n.method ? asString(n.method).toUpperCase() : \"GET\",\n      i = null == n.async || asBoolean(n.async),\n      o = n.data;\n\n  if (null != o && \"GET\" == r) {\n    var s = [];\n\n    for (var a in o) {\n      var l = o[a];\n      isDate(l) && (l = l.toJSON());\n      s.push(a + \"=\" + encodeURIComponent(l));\n    }\n\n    if (s.length) {\n      var u = e.indexOf(\"?\") < 0 ? \"?\" : \"&\";\n      e += u + s.join(\"&\");\n    }\n\n    o = null;\n  }\n\n  var c = new XMLHttpRequest();\n  c.URL_DEBUG = e;\n  var h = !1;\n\n  if (null != o && !isString(o)) {\n    h = isObject(o);\n    o = JSON.stringify(o);\n  }\n\n  c.onload = function () {\n    if (4 == c.readyState) {\n      c.status < 300 ? n.success && asFunction(n.success)(c) : n.error && asFunction(n.error)(c);\n      n.complete && asFunction(n.complete)(c);\n    }\n  };\n\n  c.onerror = function () {\n    if (!isFunction(n.error)) throw \"HttpRequest Error: \" + c.status + \" \" + c.statusText;\n    n.error(c);\n  };\n\n  c.open(r, e, i, n.user, n.password);\n  n.user && n.password && c.setRequestHeader(\"Authorization\", \"Basic \" + btoa(n.user + \":\" + n.password));\n  h && function () {\n    for (var e in n.requestHeaders) {\n      if (\"content-type\" === e.toLowerCase()) return !1;\n    }\n\n    return !0;\n  }() && c.setRequestHeader(\"Content-Type\", \"application/json\");\n  if (n.requestHeaders) for (var p in n.requestHeaders) {\n    c.setRequestHeader(p, n.requestHeaders[p]);\n  }\n  isNumber(n.timeout) && (c.timeout = n.timeout);\n  isFunction(n.beforeSend) && n.beforeSend(c);\n  c.send(o);\n  return c;\n}\nvar _modules = {};\nexport function _registerModule(e, t) {\n  _modules[e] = t;\n\n  if (\"wijmo\" === e) {\n    var n = \"undefined\" != typeof window ? window : \"undefined\" != typeof self ? self : null;\n    n && (n.wijmo = t);\n  }\n}\nexport function _getModule(e) {\n  return _modules[e];\n}\n\nvar _Map = function () {\n  function _Map(e) {\n    void 0 === e && (e = !0);\n    if (e) this._h = {};else {\n      var t = _getGlobal(),\n          n = t && t.Map;\n\n      this._m = n && new Map() || new _ArrayMap();\n    }\n  }\n\n  Object.defineProperty(_Map.prototype, \"isPojoHash\", {\n    get: function get() {\n      return null != this._h;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_Map.prototype, \"size\", {\n    get: function get() {\n      return this._h && Object.keys(this._h).length || this._m.size;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _Map.prototype.clear = function () {\n    this._h ? this._h = {} : this._m.clear();\n  };\n\n  _Map.prototype.delete = function (e) {\n    this._h ? delete this._h[e] : this._m.delete(e);\n  };\n\n  _Map.prototype.get = function (e) {\n    return this._h ? this._h[e] : this._m.get(e);\n  };\n\n  _Map.prototype.has = function (e) {\n    return this._h ? e in this._h : this._m.has(e);\n  };\n\n  _Map.prototype.set = function (e, t) {\n    this._h ? this._h[e] = t : this._m.set(e, t);\n    return this;\n  };\n\n  return _Map;\n}();\n\nexport { _Map };\n\nvar _ArrayMap = function () {\n  function _ArrayMap() {\n    this._d = [];\n  }\n\n  Object.defineProperty(_ArrayMap.prototype, \"size\", {\n    get: function get() {\n      return this._d.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _ArrayMap.prototype.clear = function () {\n    this._d = [];\n  };\n\n  _ArrayMap.prototype.delete = function (e) {\n    var t = this._kIdx(e);\n\n    if (t > -1) {\n      this._d.splice(t, 1);\n\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _ArrayMap.prototype.get = function (e) {\n    var t = this._kIdx(e);\n\n    return t > -1 ? this._d[t].v : void 0;\n  };\n\n  _ArrayMap.prototype.has = function (e) {\n    return this._kIdx(e) > -1;\n  };\n\n  _ArrayMap.prototype.set = function (e, t) {\n    var n = this._kIdx(e);\n\n    n > -1 ? this._d[n].v = t : this._d.push({\n      k: e,\n      v: t\n    });\n    return this;\n  };\n\n  _ArrayMap.prototype._kIdx = function (e) {\n    var t = this._d,\n        n = t.length;\n\n    if (e == e) {\n      for (var r = 0; r < n; r++) {\n        if (t[r].k === e) return r;\n      }\n    } else for (r = 0; r < n; r++) {\n      var i = t[r].k;\n      if (i != i) return r;\n    }\n\n    return -1;\n  };\n\n  return _ArrayMap;\n}();\n\nfunction _getGlobal() {\n  var e = null;\n  \"undefined\" != typeof window ? e = window : \"undefined\" != typeof global ? e = global : \"undefined\" != typeof self && (e = self);\n  return e;\n}\n\nvar Color = function () {\n  function Color(e) {\n    this._r = 0;\n    this._g = 0;\n    this._b = 0;\n    this._a = 1;\n    e && this._parse(e);\n  }\n\n  Object.defineProperty(Color.prototype, \"r\", {\n    get: function get() {\n      return this._r;\n    },\n    set: function set(e) {\n      this._r = clamp(asNumber(e), 0, 255);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Color.prototype, \"g\", {\n    get: function get() {\n      return this._g;\n    },\n    set: function set(e) {\n      this._g = clamp(asNumber(e), 0, 255);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Color.prototype, \"b\", {\n    get: function get() {\n      return this._b;\n    },\n    set: function set(e) {\n      this._b = clamp(asNumber(e), 0, 255);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Color.prototype, \"a\", {\n    get: function get() {\n      return this._a;\n    },\n    set: function set(e) {\n      this._a = clamp(asNumber(e), 0, 1);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Color.prototype.equals = function (e) {\n    return e instanceof Color && this.r == e.r && this.g == e.g && this.b == e.b && this.a == e.a;\n  };\n\n  Color.prototype.toString = function () {\n    var e = Math.round(100 * this.a);\n    return e > 99 ? \"#\" + ((1 << 24) + (this.r << 16) + (this.g << 8) + this.b).toString(16).slice(1) : \"rgba(\" + this.r + \",\" + this.g + \",\" + this.b + \",\" + e / 100 + \")\";\n  };\n\n  Color.fromRgba = function (e, t, n, r) {\n    void 0 === r && (r = 1);\n    var i = new Color(null);\n    i.r = Math.round(clamp(asNumber(e), 0, 255));\n    i.g = Math.round(clamp(asNumber(t), 0, 255));\n    i.b = Math.round(clamp(asNumber(n), 0, 255));\n    i.a = clamp(asNumber(r), 0, 1);\n    return i;\n  };\n\n  Color.fromHsb = function (e, t, n, r) {\n    void 0 === r && (r = 1);\n\n    var i = Color._hsbToRgb(clamp(asNumber(e), 0, 1), clamp(asNumber(t), 0, 1), clamp(asNumber(n), 0, 1));\n\n    return Color.fromRgba(i[0], i[1], i[2], r);\n  };\n\n  Color.fromHsl = function (e, t, n, r) {\n    void 0 === r && (r = 1);\n\n    var i = Color._hslToRgb(clamp(asNumber(e), 0, 1), clamp(asNumber(t), 0, 1), clamp(asNumber(n), 0, 1));\n\n    return Color.fromRgba(i[0], i[1], i[2], r);\n  };\n\n  Color.fromString = function (e) {\n    var t = new Color(null);\n    return t._parse(asString(e)) ? t : null;\n  };\n\n  Color.prototype.getHsb = function () {\n    return Color._rgbToHsb(this.r, this.g, this.b);\n  };\n\n  Color.prototype.getHsl = function () {\n    return Color._rgbToHsl(this.r, this.g, this.b);\n  };\n\n  Color.interpolate = function (e, t, n) {\n    n = clamp(asNumber(n), 0, 1);\n\n    var r = Color._rgbToHsl(e.r, e.g, e.b),\n        i = Color._rgbToHsl(t.r, t.g, t.b),\n        o = 1 - n,\n        s = e.a * o + t.a * n,\n        a = [r[0] * o + i[0] * n, r[1] * o + i[1] * n, r[2] * o + i[2] * n],\n        l = Color._hslToRgb(a[0], a[1], a[2]);\n\n    return Color.fromRgba(l[0], l[1], l[2], s);\n  };\n\n  Color.toOpaque = function (e, t) {\n    if (1 == (e = isString(e) ? Color.fromString(e) : asType(e, Color)).a) return e;\n    t = null == t ? Color.fromRgba(255, 255, 255, 1) : isString(t) ? Color.fromString(t) : asType(t, Color);\n    var n = e.a,\n        r = 1 - n;\n    return Color.fromRgba(e.r * n + t.r * r, e.g * n + t.g * r, e.b * n + t.b * r);\n  };\n\n  Color.prototype._parse = function (e) {\n    if (\"transparent\" == (e = e.toLowerCase())) {\n      this._r = this._g = this._b = this._a = 0;\n      return !0;\n    }\n\n    if (e && 0 != e.indexOf(\"#\") && 0 != e.indexOf(\"rgb\") && 0 != e.indexOf(\"hsl\")) {\n      var t = document.createElement(\"div\");\n      t.style.color = e;\n      var n = t.style.color;\n\n      if (n == e && !(n = window.getComputedStyle(t).color)) {\n        document.body.appendChild(t);\n        n = window.getComputedStyle(t).color;\n        removeChild(t);\n      }\n\n      e = n.toLowerCase();\n    }\n\n    if (0 == e.indexOf(\"#\")) {\n      if (4 == e.length) {\n        this.r = parseInt(e[1] + e[1], 16);\n        this.g = parseInt(e[2] + e[2], 16);\n        this.b = parseInt(e[3] + e[3], 16);\n        this.a = 1;\n        return !0;\n      }\n\n      if (7 == e.length) {\n        this.r = parseInt(e.substr(1, 2), 16);\n        this.g = parseInt(e.substr(3, 2), 16);\n        this.b = parseInt(e.substr(5, 2), 16);\n        this.a = 1;\n        return !0;\n      }\n\n      return !1;\n    }\n\n    if (0 == e.indexOf(\"rgb\")) {\n      var r = e.indexOf(\"(\"),\n          i = e.indexOf(\")\");\n\n      if (r > -1 && i > -1) {\n        if ((o = e.substr(r + 1, i - (r + 1)).split(\",\")).length > 2) {\n          this.r = parseInt(o[0]);\n          this.g = parseInt(o[1]);\n          this.b = parseInt(o[2]);\n          this.a = o.length > 3 ? parseFloat(o[3]) : 1;\n          return !0;\n        }\n      }\n    }\n\n    if (0 == e.indexOf(\"hsl\")) {\n      r = e.indexOf(\"(\"), i = e.indexOf(\")\");\n\n      if (r > -1 && i > -1) {\n        var o;\n\n        if ((o = e.substr(r + 1, i - (r + 1)).split(\",\")).length > 2) {\n          var s = parseInt(o[0]) / 360,\n              a = parseInt(o[1]),\n              l = parseInt(o[2]);\n          o[1].indexOf(\"%\") > -1 && (a /= 100);\n          o[2].indexOf(\"%\") > -1 && (l /= 100);\n\n          var u = Color._hslToRgb(s, a, l);\n\n          this.r = u[0];\n          this.g = u[1];\n          this.b = u[2];\n          this.a = o.length > 3 ? parseFloat(o[3]) : 1;\n          return !0;\n        }\n      }\n    }\n\n    return !1;\n  };\n\n  Color._hslToRgb = function (e, t, n) {\n    assert(e >= 0 && e <= 1 && t >= 0 && t <= 1 && n >= 0 && n <= 1, \"bad HSL values\");\n    var r, i, o;\n    if (0 == t) r = i = o = n;else {\n      var s = n < .5 ? n * (1 + t) : n + t - n * t,\n          a = 2 * n - s;\n      r = Color._hue2rgb(a, s, e + 1 / 3);\n      i = Color._hue2rgb(a, s, e);\n      o = Color._hue2rgb(a, s, e - 1 / 3);\n    }\n    return [Math.round(255 * r), Math.round(255 * i), Math.round(255 * o)];\n  };\n\n  Color._hue2rgb = function (e, t, n) {\n    n < 0 && (n += 1);\n    n > 1 && (n -= 1);\n    return n < 1 / 6 ? e + 6 * (t - e) * n : n < .5 ? t : n < 2 / 3 ? e + (t - e) * (2 / 3 - n) * 6 : e;\n  };\n\n  Color._rgbToHsl = function (e, t, n) {\n    assert(e >= 0 && e <= 255 && t >= 0 && t <= 255 && n >= 0 && n <= 255, \"bad RGB values\");\n    e /= 255, t /= 255, n /= 255;\n    var r,\n        i,\n        o = Math.max(e, t, n),\n        s = Math.min(e, t, n),\n        a = (o + s) / 2;\n    if (o == s) r = i = 0;else {\n      var l = o - s;\n      i = a > .5 ? l / (2 - o - s) : l / (o + s);\n\n      switch (o) {\n        case e:\n          r = (t - n) / l + (t < n ? 6 : 0);\n          break;\n\n        case t:\n          r = (n - e) / l + 2;\n          break;\n\n        case n:\n          r = (e - t) / l + 4;\n      }\n\n      r /= 6;\n    }\n    return [r, i, a];\n  };\n\n  Color._rgbToHsb = function (e, t, n) {\n    assert(e >= 0 && e <= 255 && t >= 0 && t <= 255 && n >= 0 && n <= 255, \"bad RGB values\");\n\n    var r = Color._rgbToHsl(e, t, n);\n\n    return Color._hslToHsb(r[0], r[1], r[2]);\n  };\n\n  Color._hsbToRgb = function (e, t, n) {\n    var r = Color._hsbToHsl(e, t, n);\n\n    return Color._hslToRgb(r[0], r[1], r[2]);\n  };\n\n  Color._hsbToHsl = function (e, t, n) {\n    assert(e >= 0 && e <= 1 && t >= 0 && t <= 1 && n >= 0 && n <= 1, \"bad HSB values\");\n    var r = clamp(n * (2 - t) / 2, 0, 1),\n        i = 1 - Math.abs(2 * r - 1),\n        o = clamp(i > 0 ? n * t / i : t, 0, 1);\n    assert(!isNaN(r) && !isNaN(o), \"bad conversion to HSL\");\n    return [e, o, r];\n  };\n\n  Color._hslToHsb = function (e, t, n) {\n    assert(e >= 0 && e <= 1 && t >= 0 && t <= 1 && n >= 0 && n <= 1, \"bad HSL values\");\n    var r = clamp(1 == n ? 1 : (2 * n + t * (1 - Math.abs(2 * n - 1))) / 2, 0, 1),\n        i = clamp(r > 0 ? 2 * (r - n) / r : t, 0, 1);\n    assert(!isNaN(r) && !isNaN(i), \"bad conversion to HSB\");\n    return [e, i, r];\n  };\n\n  return Color;\n}();\n\nexport { Color };\nexport var culture = \"undefined\" != typeof window && window.wijmo && window.wijmo.culture || {\n  Globalize: {\n    numberFormat: {\n      \".\": \".\",\n      \",\": \",\",\n      \"-\": \"-\",\n      \"+\": \"+\",\n      \"%\": \"%\",\n      percent: {\n        pattern: [\"-n%\", \"n%\"]\n      },\n      currency: {\n        decimals: 2,\n        symbol: \"$\",\n        pattern: [\"($n)\", \"$n\"]\n      }\n    },\n    calendar: {\n      \"/\": \"/\",\n      \":\": \":\",\n      firstDay: 0,\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n      daysAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      am: [\"AM\", \"A\"],\n      pm: [\"PM\", \"P\"],\n      eras: [\"A.D.\", \"B.C.\"],\n      patterns: {\n        d: \"M/d/yyyy\",\n        D: \"dddd, MMMM dd, yyyy\",\n        f: \"dddd, MMMM dd, yyyy h:mm tt\",\n        F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n        t: \"h:mm tt\",\n        T: \"h:mm:ss tt\",\n        M: \"MMMM d\",\n        m: \"MMMM d\",\n        Y: \"MMMM, yyyy\",\n        y: \"MMMM, yyyy\",\n        g: \"M/d/yyyy h:mm tt\",\n        G: \"M/d/yyyy h:mm:ss tt\",\n        s: 'yyyy\"-\"MM\"-\"dd\"T\"HH\":\"mm\":\"ss',\n        o: 'yyyy\"-\"MM\"-\"dd\"T\"HH\":\"mm\":\"ss\".\"fffffffK',\n        O: 'yyyy\"-\"MM\"-\"dd\"T\"HH\":\"mm\":\"ss\".\"fffffffK',\n        U: \"dddd, MMMM dd, yyyy h:mm:ss tt\"\n      },\n      fiscalYearOffsets: [-3, -3]\n    }\n  }\n};\n\nvar Globalize = function () {\n  function Globalize() {}\n\n  Globalize.format = function (e, t, n, r, i) {\n    if (isString(e)) return e;\n\n    if (isNumber(e)) {\n      t = t || (e == Math.round(e) ? \"n0\" : \"n2\");\n      return Globalize.formatNumber(e, t, n, r, i);\n    }\n\n    if (isDate(e)) {\n      t = t || \"d\";\n      return Globalize.formatDate(e, t);\n    }\n\n    return null != e ? e.toString() : \"\";\n  };\n\n  Globalize.formatNumber = function (e, t, n, r, i) {\n    e = asNumber(e);\n    t = asString(t);\n\n    var o,\n        s = culture.Globalize.numberFormat,\n        a = Globalize._parseNumericFormat(t),\n        l = a.spec,\n        u = a.prec,\n        c = s[\".\"] || \".\",\n        h = s[\",\"] || \",\",\n        p = s[\"-\"] || \"-\",\n        f = Math;\n\n    null == u && (u = null != i ? i : \"c\" == l ? s.currency.decimals : \"e\" == l ? 6 : \"r\" == l ? 15 : e == f.round(e) ? 0 : 2);\n    a.scale && (e /= f.pow(10, a.scale));\n\n    if (\"d\" == l || \"x\" == l) {\n      o = (r ? f.floor : f.round)(f.abs(e)).toString(\"d\" == l ? 10 : 16);\n\n      for (; o.length < u;) {\n        o = \"0\" + o;\n      }\n\n      e < 0 && (o = p + o);\n      return \"X\" == a.specRaw ? o.toUpperCase() : o;\n    }\n\n    \"p\" == l && (e = toFixed(e = Globalize._shiftDecimal(e, 2, 14), u, r));\n    r && \"p\" != l && \"e\" != l && (e = toFixed(e, u, !0));\n\n    switch (l) {\n      case \"e\":\n        o = e.toExponential(u);\n        \"E\" == a.specRaw && (o = o.replace(\"e\", \"E\"));\n        break;\n\n      case \"c\":\n      case \"p\":\n        o = Globalize._toFixedStr(f.abs(e), u);\n        break;\n\n      default:\n        \"-\" != (o = Globalize._toFixedStr(e, u))[0] || o.match(/[1-9]/) || (o = o.substr(1));\n    }\n\n    (n || \"g\" == l || \"r\" == l) && o.indexOf(\".\") > -1 && (o = o.replace(/(\\.\\d*?)0+$/g, \"$1\").replace(/\\.$/, \"\"));\n    \".\" != c && (o = o.replace(\".\", c));\n    \"-\" != p && (o = o.replace(\"-\", p));\n\n    if (h && (\"n\" == l || \"c\" == l || \"p\" == a.specRaw || \"F\" == a.specRaw || \"G\" == a.specRaw)) {\n      var d = o.indexOf(c),\n          g = /\\B(?=(\\d\\d\\d)+(?!\\d))/g;\n      o = d > -1 ? o.substr(0, d).replace(g, h) + o.substr(d) : o.replace(g, h);\n    }\n\n    if (\"c\" == l) {\n      var _ = e < 0 && o.match(/[1-9]/) ? 0 : 1,\n          m = s.currency.pattern[_],\n          v = a.curr || s.currency.symbol;\n\n      \"\" == v && (v = \"\");\n      o = m.replace(\"n\", o).replace(\"$\", v);\n    }\n\n    if (\"p\" == l) {\n      _ = e < 0 && o.match(/[1-9]/) ? 0 : 1, m = s.percent.pattern[_];\n      var b = s[\"%\"] || \"%\";\n      o = m.replace(\"n\", o);\n      \"%\" != b && (o = o.replace(\"%\", b));\n      \"-\" != p && 0 == _ && (o = o.replace(\"-\", p));\n    }\n\n    return a.prefix || a.suffix ? a.prefix + o + a.suffix : o;\n  };\n\n  Globalize.formatDate = function (e, t) {\n    e = asDate(e);\n\n    switch (t) {\n      case \"r\":\n      case \"R\":\n        return e.toUTCString();\n\n      case \"u\":\n        return e.toISOString().replace(/\\.\\d{3}/, \"\");\n    }\n\n    t = Globalize._expandFormat(t);\n    return Globalize._parseDateFormat(t).map(function (n) {\n      return Globalize._formatDatePart(e, t, n);\n    }).join(\"\");\n  };\n\n  Globalize.parseInt = function (e, t) {\n    return Math.round(Globalize.parseFloat(e, t));\n  };\n\n  Globalize.parseFloat = function (e, t) {\n    var n = Globalize._parseNumericFormat(t),\n        r = n.prefix;\n\n    r && 0 == e.indexOf(r) && (e = e.substring(r.length));\n    var i = n.suffix;\n\n    if (i) {\n      var o = e.lastIndexOf(i);\n      o > -1 && o == e.length - i.length && (e = e.substring(0, e.length - i.length));\n    }\n\n    var s = culture.Globalize.numberFormat,\n        a = s[\".\"] || \".\",\n        l = s[\",\"] || \",\",\n        u = s[\"-\"] || \"-\",\n        c = s[\"%\"] || \"%\",\n        h = n.curr || s.currency.symbol || \"$\",\n        p = e.indexOf(c) > -1,\n        f = e.indexOf(\"(\") > -1 && e.indexOf(\")\") > -1,\n        d = 0;\n    if (\"x\" == n.spec) d = parseInt(e, 16);else {\n      [h, c, \"(\", \")\"].forEach(function (t) {\n        e = e.replace(t, \"\");\n      });\n      /\\s/.test(l) && (e = e.replace(/\\s+/g, \"\"));\n      var g = (e = e.replace(new RegExp(\"\\\\\" + l, \"g\"), \"\").replace(new RegExp(\"\\\\\" + u, \"g\"), \"-\").replace(/(\\+|\\-)\\s+/g, \"$1\").replace(a, \".\").trim()).length;\n\n      if (!f && g && \"-\" == e[g - 1]) {\n        f = !0;\n        e = e.substring(0, g - 1);\n      }\n\n      d = /^\\s*(\\+|\\-)?\\d*(\\.\\d*)?(\\s*E(\\+|\\-)?\\d+)?\\s*$/i.test(e) ? parseFloat(e) : Number.NaN;\n    }\n\n    if (!isNaN(d)) {\n      f = f || d < 0;\n      d = Math.abs(d);\n      p && (d = Globalize._shiftDecimal(d, -2));\n      f && (d = -d);\n      n.scale && (d *= Math.pow(10, n.scale));\n    }\n\n    return d;\n  };\n\n  Globalize.parseDate = function (e, t, n) {\n    if (!(e = asString(e))) return null;\n    if (\"u\" == t) return new Date(e);\n    var r;\n\n    if (\"R\" == t || \"r\" == t) {\n      var i = e.match(/((\\d+)\\-(\\d+)\\-(\\d+))?\\s?((\\d+):(\\d+)(:(\\d+))?)?/);\n\n      if (i[1] || i[5]) {\n        r = i[1] ? new Date(parseInt(i[2]), parseInt(i[3]) - 1, parseInt(i[4])) : new Date();\n\n        if (i[5]) {\n          r.setHours(parseInt(i[6]));\n          r.setMinutes(parseInt(i[7]));\n          r.setSeconds(i[8] ? parseInt(i[9]) : 0);\n        }\n      } else r = new Date(e);\n\n      return isNaN(r.getTime()) ? null : r;\n    }\n\n    t = Globalize._expandFormat(t || \"d\");\n\n    var o = culture.Globalize.calendar,\n        s = Globalize._CJK,\n        a = new RegExp(\"(\\\\\" + o[\"/\"] + \")|(\\\\\" + o[\":\"] + \")|(\\\\d+)|([\" + s + \"\\\\.]{2,})|([\" + s + \"]+)\", \"gi\"),\n        l = e.match(a),\n        u = Globalize._parseDateFormat(t),\n        c = 0;\n\n    if (!(l && l.length && u && u.length)) return null;\n\n    var h,\n        p,\n        f,\n        d,\n        g,\n        _ = -1,\n        m = 0,\n        v = 1,\n        b = 0,\n        y = 0,\n        C = 0,\n        w = 0,\n        A = -1,\n        E = null;\n\n    if (n = asDate(n, !0)) {\n      m = n.getMonth();\n      v = n.getDate();\n      b = n.getHours();\n      y = n.getMinutes();\n      C = n.getSeconds();\n      w = n.getMilliseconds();\n    }\n\n    for (var x = 0; x < u.length && l; x++) {\n      var T = x - c,\n          P = T > -1 && T < l.length ? l[T] : \"\",\n          D = u[x].length;\n\n      switch (u[x]) {\n        case \"EEEE\":\n        case \"EEE\":\n        case \"EE\":\n        case \"E\":\n        case \"eeee\":\n        case \"eee\":\n        case \"ee\":\n        case \"e\":\n          g = u[x];\n\n        case \"yyyy\":\n        case \"yyy\":\n        case \"yy\":\n        case \"y\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          _ = parseInt(P);\n          d = 4 == P.length;\n          break;\n\n        case \"MMMM\":\n        case \"MMM\":\n          f = !0;\n          m = -1;\n\n          for (var S = P.toLowerCase(), O = \"MMMM\" == u[x] ? o.months : o.monthsAbbr, M = 0; M < 12; M++) {\n            if (0 == O[M].toLowerCase().indexOf(S)) {\n              m = M;\n              break;\n            }\n          }\n\n          if (m > -1) break;\n\n        case \"MM\":\n        case \"M\":\n          f = !0;\n\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          m = parseInt(P) - 1;\n          break;\n\n        case \"dddd\":\n        case \"ddd\":\n          h = !0;\n          break;\n\n        case \"dd\":\n        case \"d\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          v = parseInt(P);\n          p = !0;\n          break;\n\n        case \"hh\":\n        case \"h\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          b = 12 == (b = parseInt(P)) ? 0 : b;\n          break;\n\n        case \"HH\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          b = parseInt(P);\n          break;\n\n        case \"H\":\n          b = parseInt(P);\n          break;\n\n        case \"mm\":\n        case \"m\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          y = parseInt(P);\n          break;\n\n        case \"ss\":\n        case \"s\":\n          if (D > 1 && P.length > D) {\n            l[T] = P.substr(D);\n            P = P.substr(0, D);\n            c++;\n          }\n\n          C = parseInt(P);\n          break;\n\n        case \"fffffff\":\n        case \"FFFFFFF\":\n        case \"ffffff\":\n        case \"FFFFFF\":\n        case \"fffff\":\n        case \"FFFFF\":\n        case \"ffff\":\n        case \"FFFF\":\n        case \"fff\":\n        case \"FFF\":\n        case \"ff\":\n        case \"FF\":\n        case \"f\":\n        case \"F\":\n          w = parseInt(P) / Math.pow(10, D - 3);\n          break;\n\n        case \"tt\":\n        case \"t\":\n          P = P.toUpperCase();\n          b < 12 && o.pm.indexOf(P) > -1 && (b += 12);\n          break;\n\n        case \"q\":\n        case \"Q\":\n        case \"u\":\n        case \"U\":\n          A = parseInt(P);\n          break;\n\n        case \"ggg\":\n        case \"gg\":\n        case \"g\":\n          E = o.eras.length > 1 ? Globalize._getEra(P, o) : null;\n          if (o.eras.length > 0 && !E) return null;\n          break;\n\n        case \"/\":\n        case \":\":\n          if (P && P != o[u[x]]) return null;\n          break;\n\n        case o[\"/\"]:\n        case o[\":\"]:\n          if (P && P != u[x]) return null;\n          break;\n\n        case \"K\":\n          break;\n\n        default:\n          Globalize._unquote(u[x]).trim() != P.trim() && c++;\n      }\n    }\n\n    if (f && p) {\n      isNaN(b) && (b = 0);\n      isNaN(y) && (y = 0);\n      isNaN(C) && (C = 0);\n    }\n\n    if (m < 0 || m > 11 || isNaN(m) || v < 1 || v > 31 || isNaN(v) || b < 0 || b >= 24 || isNaN(b) || y < 0 || y >= 60 || isNaN(y) || C < 0 || C >= 60 || isNaN(C)) return null;\n    if (l.length + c > u.length) return null;\n\n    if (g) {\n      if (!f) return null;\n      var F = culture.Globalize.calendar;\n\n      if (isArray(F.fiscalYearOffsets)) {\n        var k = \"E\" == g[0],\n            I = m - F.fiscalYearOffsets[k ? 0 : 1];\n        _ += I > 11 ? -1 : I < 0 ? 1 : 0;\n      }\n    }\n\n    if (h && !p) return null;\n    !f && A >= 1 && A <= 4 && (m = 3 * (A - 1));\n    if (isNaN(_) || _ < 0) _ = n ? n.getFullYear() : new Date().getFullYear();else if (E && E.start) _ = _ + E.start.getFullYear() - 1;else if (_ < 100 && !d) {\n      var R = isNumber(o.twoDigitYearMax) ? o.twoDigitYearMax : 2029;\n      R > 99 && (_ += _ + 2e3 <= R ? 2e3 : 1900);\n    }\n    return (r = DateTime.newDate(_, m, v, b, y + 0, C, w)).getMonth() != m || r.getDate() != v ? null : isNaN(r.getTime()) ? null : r;\n  };\n\n  Globalize.getFirstDayOfWeek = function () {\n    var e = culture.Globalize.calendar.firstDay;\n    return e || 0;\n  };\n\n  Globalize.getNumberDecimalSeparator = function () {\n    var e = culture.Globalize.numberFormat[\".\"];\n    return e || \".\";\n  };\n\n  Globalize._toFixedStr = function (e, t) {\n    var n = e.toString(),\n        r = n.indexOf(\".\"),\n        i = t - (n.length - r) + 1,\n        o = n.indexOf(\"e\") > -1;\n    if (!o && r > -1 && i >= 0) return n + Array(i + 1).join(\"0\");\n\n    if (r > -1 && !o && \"5\" == n[n.length - 1]) {\n      e = +(Math.round(+(Math.abs(e) + \"e\" + t)) + \"e\" + -t) * (e < 0 ? -1 : 1);\n    }\n\n    return e.toFixed(t);\n  };\n\n  Globalize._unquote = function (e) {\n    return e.length > 1 && e[0] == e[e.length - 1] && (\"'\" == e[0] || '\"' == e[0]) ? e.substr(1, e.length - 2) : e;\n  };\n\n  Globalize._parseNumericFormat = function (e) {\n    var t = Globalize._numFormatInfo[e];\n\n    if (!t) {\n      var n = e && e.match(/(\\\"(.*?)\\\"\\s*)?([a-z]+)\\s*(\\d*)\\s*(,*)(\\s*\\\"(.*?)\\\"\\s*)?(.*)/i) || [],\n          r = n[3] ? n[3] : \"n\";\n\n      if (r.length > 1) {\n        n = [];\n        r = \"n\";\n      }\n\n      t = {\n        prefix: n[2] || \"\",\n        spec: r.toLowerCase(),\n        specRaw: r,\n        prec: n[4] ? parseInt(n[4]) : null,\n        scale: n[5] ? 3 * n[5].length : 0,\n        suffix: n[7] || \"\",\n        curr: n[8] || null\n      };\n      Globalize._numFormatInfo[e] = t;\n    }\n\n    return t;\n  };\n\n  Globalize._parseDateFormat = function (e) {\n    var t = Globalize._dateFormatParts[e];\n\n    if (!t) {\n      t = [];\n\n      if (e) {\n        var n = void 0,\n            r = void 0;\n\n        for (n = 0; n > -1 && n < e.length; n++) {\n          var i = e[n];\n\n          if ((\"'\" == i || '\"' == i) && (r = e.indexOf(i, n + 1)) > -1) {\n            t.push(e.substring(n, r + 1));\n            n = r;\n          } else if (\"\\\\\" == i && n < e.length - 1) {\n            n++;\n            t.push('\"' + e[n] + '\"');\n          } else {\n            r = n + 1;\n\n            for (; r < e.length && e[r] == i; r++) {\n              ;\n            }\n\n            t.push(e.substring(n, r));\n            n = r - 1;\n          }\n        }\n      }\n\n      Globalize._dateFormatParts[e] = t;\n    }\n\n    return t;\n  };\n\n  Globalize._formatDatePart = function (e, t, n) {\n    var r,\n        i = culture.Globalize.calendar,\n        o = null,\n        s = 0,\n        a = 0,\n        l = n.length;\n\n    switch (n) {\n      case \"yyyy\":\n      case \"yyy\":\n      case \"yy\":\n      case \"y\":\n      case \"EEEE\":\n      case \"EEE\":\n      case \"EE\":\n      case \"E\":\n      case \"eeee\":\n      case \"eee\":\n      case \"ee\":\n      case \"e\":\n        s = (r = \"E\" == n[0] ? DateTime.toFiscal(e, !0) : \"e\" == n[0] ? DateTime.toFiscal(e, !1) : e).getFullYear();\n        i.eras.length > 1 && t.indexOf(\"g\") > -1 && (o = Globalize._getEra(e, i)) && (s = isDate(o.start) ? s - o.start.getFullYear() + 1 : Math.abs(s));\n        var u = n.length < 3 ? s % 100 : 3 == n.length ? s % 1e3 : s;\n        return Globalize._zeroPad(u, n.length);\n\n      case \"MMMMM\":\n        return i.monthsAbbr[e.getMonth()][0];\n\n      case \"MMMM\":\n        return i.months[e.getMonth()];\n\n      case \"MMM\":\n        return i.monthsAbbr[e.getMonth()];\n\n      case \"MM\":\n      case \"M\":\n        return Globalize._zeroPad(e.getMonth() + 1, l);\n\n      case \"dddd\":\n        return i.days[e.getDay()];\n\n      case \"ddd\":\n        return i.daysAbbr[e.getDay()];\n\n      case \"dd\":\n        return Globalize._zeroPad(e.getDate(), 2);\n\n      case \"d\":\n        return e.getDate().toString();\n\n      case \"hh\":\n      case \"h\":\n        return Globalize._zeroPad(Globalize._h12(e), l);\n\n      case \"HH\":\n      case \"H\":\n        return Globalize._zeroPad(e.getHours(), l);\n\n      case \"mm\":\n      case \"m\":\n        return Globalize._zeroPad(e.getMinutes(), l);\n\n      case \"ss\":\n      case \"s\":\n        return Globalize._zeroPad(e.getSeconds(), l);\n\n      case \"fffffff\":\n      case \"FFFFFFF\":\n      case \"ffffff\":\n      case \"FFFFFF\":\n      case \"fffff\":\n      case \"FFFFF\":\n      case \"ffff\":\n      case \"FFFF\":\n      case \"fff\":\n      case \"FFF\":\n      case \"ff\":\n      case \"FF\":\n      case \"f\":\n      case \"F\":\n        a = e.getMilliseconds() * Math.pow(10, l - 3);\n        return \"f\" == n[0] ? Globalize._zeroPad(a, l) : a.toFixed(0);\n\n      case \"tt\":\n        return e.getHours() < 12 ? i.am[0] : i.pm[0];\n\n      case \"t\":\n        return e.getHours() < 12 ? i.am[1] : i.pm[1];\n\n      case \"q\":\n      case \"Q\":\n        return (Math.floor(e.getMonth() / 3) + 1).toString();\n\n      case \"u\":\n      case \"U\":\n        r = DateTime.toFiscal(e, \"U\" == n);\n        return (Math.floor(r.getMonth() / 3) + 1).toString();\n\n      case \"ggg\":\n      case \"gg\":\n      case \"g\":\n        if (i.eras.length > 1 && (o = Globalize._getEra(e, i))) {\n          if (isString(o)) return o;\n\n          switch (n) {\n            case \"gg\":\n              return o.name[0];\n\n            case \"g\":\n              return o.symbol;\n\n            default:\n              return o.name;\n          }\n        }\n\n        return i.eras[0];\n\n      case \":\":\n      case \"/\":\n        return i[n];\n\n      case \"K\":\n        var c = e.toString().match(/(\\+|\\-)(\\d{2})(\\d{2})/);\n        return c ? c[1] + c[2] + c[3] : \"\";\n\n      case \"zzz\":\n      case \"zz\":\n      case \"z\":\n        var h = -e.getTimezoneOffset(),\n            p = Math.abs(h),\n            f = Globalize.formatNumber,\n            d = void 0;\n\n        switch (n) {\n          case \"zzz\":\n            d = f(p / 60, \"d2\", !1, !0) + i[\":\"] + f(p % 60, \"d2\", !1, !0);\n            break;\n\n          case \"zz\":\n            d = f(p / 60, \"d2\", !1, !0);\n            break;\n\n          case \"z\":\n            d = f(p / 60, \"d1\", !1, !0);\n        }\n\n        return (h >= 0 ? \"+\" : \"-\") + d;\n    }\n\n    return l > 1 && n[0] == n[l - 1] && ('\"' == n[0] || \"'\" == n[0]) ? n.substr(1, l - 2) : n;\n  };\n\n  Globalize._getEra = function (e, t) {\n    if (t.eras) {\n      var n = t.eras,\n          r = t.eras.length;\n\n      if (isDate(e)) {\n        if (isString(n[0])) return n[e.getFullYear() >= 0 ? 0 : 1];\n\n        if (isDate(n[0].start)) {\n          for (var i = 0; i < r; i++) {\n            if (e >= n[i].start) return n[i];\n          }\n\n          return n[r - 1];\n        }\n      } else if (isString(e) && e.length > 0) {\n        e = e.toLowerCase();\n\n        for (i = 0; i < r; i++) {\n          var o = n[i];\n\n          if (isString(o)) {\n            if (0 == o.toLowerCase().indexOf(e)) return o;\n          } else if (o.name && 0 == o.name.toLowerCase().indexOf(e) || o.symbol && 0 == o.symbol.toLowerCase().indexOf(e)) return o;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Globalize._expandFormat = function (e) {\n    var t = culture.Globalize.calendar.patterns[e];\n    return t || e;\n  };\n\n  Globalize._zeroPad = function (e, t) {\n    var n = e.toFixed(0),\n        r = t - n.length + 1;\n    return r > 0 ? Array(r).join(\"0\") + n : n;\n  };\n\n  Globalize._h12 = function (e) {\n    var t = culture.Globalize.calendar,\n        n = e.getHours();\n    t.am && t.am[0] && 0 == (n %= 12) && (n = 12);\n    return n;\n  };\n\n  Globalize._shiftDecimal = function (e, t, n) {\n    if (0 == t || isNaN(e)) return e;\n    var r = e.toString();\n\n    if (r.indexOf(\"e\") > -1) {\n      var i = e * Math.pow(10, t);\n      null != n && (i = parseFloat(i.toFixed(n)));\n      return i;\n    }\n\n    var o = Array(Math.abs(t) + 1).join(\"0\");\n    t < 0 && (r = o + r);\n    var s = r.indexOf(\".\");\n    s < 0 && (s = (r += \".\").indexOf(\".\"));\n    t > 0 && (r += o);\n    s += t;\n    r = (r = r.replace(\".\", \"\")).substr(0, s) + \".\" + r.substr(s);\n    return parseFloat(r);\n  };\n\n  Globalize._CJK = \"a-z\" + \"u00c0-u017fu3000-u30ffu4e00-u9faf\".replace(/u/g, \"\\\\u\") + \"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff\".replace(/u/g, \"\\\\u\");\n  Globalize._numFormatInfo = {};\n  Globalize._dateFormatParts = {};\n  return Globalize;\n}();\n\nexport { Globalize };\nexport function _updateCulture(e) {\n  culture = e;\n}\nexport function _addCultureInfo(e, t) {\n  var n = \"undefined\" != typeof window ? window.wijmo : null,\n      r = n ? n.culture : null,\n      i = r ? r[e] : null;\n  culture[e] = i || t;\n}\n\nvar _MaskProvider = function () {\n  function _MaskProvider(e, t, n) {\n    void 0 === t && (t = \"\");\n    void 0 === n && (n = \"_\");\n    this._promptChar = \"_\";\n    this._mskArr = [];\n    this._overWrite = !1;\n    this._full = !0;\n    this._inputBnd = this._input.bind(this);\n    this._keydownBnd = this._keydown.bind(this);\n    this._keypressBnd = this._keypress.bind(this);\n    this._cmpstartBnd = this._cmpstart.bind(this);\n    this._cmpendBnd = this._cmpend.bind(this);\n    this.mask = asString(t);\n    this.input = e;\n    this.promptChar = asString(n, !1);\n\n    this._connect(!0);\n\n    (this._evtInput = document.createEvent(\"HTMLEvents\")).initEvent(\"input\", !0, !1);\n  }\n\n  Object.defineProperty(_MaskProvider.prototype, \"input\", {\n    get: function get() {\n      return this._tbx;\n    },\n    set: function set(e) {\n      this._connect(!1);\n\n      this._tbx = e;\n\n      this._connect(!0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_MaskProvider.prototype, \"mask\", {\n    get: function get() {\n      return this._msk;\n    },\n    set: function set(e) {\n      if (e != this._msk) {\n        this._msk = asString(e, !0);\n\n        this._parseMask();\n\n        this._valueChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_MaskProvider.prototype, \"promptChar\", {\n    get: function get() {\n      return this._promptChar;\n    },\n    set: function set(e) {\n      if (e != this._promptChar) {\n        assert(1 == (e = asString(e, !1)).length, \"promptChar must be a string with length 1.\");\n\n        for (var t = this._tbx, n = t.value, r = \"\", i = this._mskArr, o = this._promptChar, s = 0; s < n.length; s++) {\n          var a = i[s],\n              l = n[s];\n          a && a.literal || l !== o || (l = e);\n          r += l;\n        }\n\n        t.value = r;\n        this._promptChar = e;\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_MaskProvider.prototype, \"overwriteMode\", {\n    get: function get() {\n      return this._overWrite;\n    },\n    set: function set(e) {\n      this._overWrite = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_MaskProvider.prototype, \"maskFull\", {\n    get: function get() {\n      return this._full;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _MaskProvider.prototype.getMaskRange = function () {\n    return this._mskArr.length ? [this._firstPos, this._lastPos] : [0, this._tbx.value.length - 1];\n  };\n\n  _MaskProvider.prototype.getRawValue = function () {\n    var e = this._tbx ? this._tbx.value : \"\";\n    if (!this.mask) return e;\n\n    for (var t = \"\", n = 0; n < this._mskArr.length && n < e.length; n++) {\n      this._mskArr[n].literal || e[n] == this._promptChar || (t += e[n]);\n    }\n\n    return t;\n  };\n\n  _MaskProvider.prototype.refresh = function () {\n    this._parseMask();\n\n    this._valueChanged();\n  };\n\n  _MaskProvider.prototype._input = function (e) {\n    var t = this;\n\n    if (this._msk && !this._composing && e != this._evtInput) {\n      e.preventDefault();\n      e.stopImmediatePropagation();\n      setTimeout(function () {\n        t._valueChanged();\n\n        t._tbx && t._tbx.dispatchEvent(t._evtInput);\n      });\n    }\n  };\n\n  _MaskProvider.prototype._keydown = function (e) {\n    if (e.keyCode == Key.Back) {\n      var t = this._tbx.selectionStart,\n          n = this._tbx.selectionEnd;\n\n      if (t <= this._firstPos && n == t) {\n        e.preventDefault();\n        this._backSpace = !1;\n        return;\n      }\n    }\n\n    this._backSpace = e.keyCode == Key.Back;\n  };\n\n  _MaskProvider.prototype._keypress = function (e) {\n    e.ctrlKey || e.metaKey || e.altKey || this._composing || !this._preventKey(e.charCode) || e.preventDefault();\n  };\n\n  _MaskProvider.prototype._cmpstart = function (e) {\n    this._composing = !0;\n  };\n\n  _MaskProvider.prototype._cmpend = function (e) {\n    var t = this;\n\n    if (this._composing) {\n      this._composing = !1;\n      setTimeout(function () {\n        var e = t._tbx;\n        e && t._valueChanged() && e.dispatchEvent(t._evtInput);\n      });\n    }\n  };\n\n  _MaskProvider.prototype._preventKey = function (e) {\n    if (e && this._mskArr.length) {\n      var t = this._tbx,\n          n = t.selectionStart,\n          r = String.fromCharCode(e);\n      n < this._firstPos && setSelectionRange(t, n = this._firstPos);\n      if (n >= this._mskArr.length) return !0;\n      var i = this._mskArr[n];\n      if (i.literal) this._validatePosition(n);else if (i.wildCard != r && !this._isCharValid(i.wildCard, r)) return !0;\n    }\n\n    return !1;\n  };\n\n  _MaskProvider.prototype._connect = function (e) {\n    var t = this._tbx;\n\n    if (t) {\n      assert(t instanceof HTMLInputElement || t instanceof HTMLTextAreaElement, \"INPUT or TEXTAREA element expected.\");\n\n      if (e) {\n        this._autoComplete = t.autocomplete;\n        this._spellCheck = t.spellcheck;\n        t.autocomplete = \"off\";\n        t.spellcheck = !1;\n        t.addEventListener(\"input\", this._inputBnd, !0);\n        t.addEventListener(\"keydown\", this._keydownBnd, !0);\n        t.addEventListener(\"keypress\", this._keypressBnd, !0);\n        t.addEventListener(\"compositionstart\", this._cmpstartBnd, !0);\n        t.addEventListener(\"compositionend\", this._cmpendBnd, !0);\n        t.addEventListener(\"blur\", this._cmpendBnd, !0);\n\n        this._valueChanged();\n      } else {\n        t.autocomplete = this._autoComplete;\n        t.spellcheck = this._spellCheck;\n        t.removeEventListener(\"input\", this._inputBnd, !0);\n        t.removeEventListener(\"keydown\", this._keydownBnd, !0);\n        t.removeEventListener(\"keypress\", this._keypressBnd, !0);\n        t.removeEventListener(\"compositionstart\", this._cmpstartBnd, !0);\n        t.removeEventListener(\"compositionend\", this._cmpendBnd, !0);\n        t.removeEventListener(\"blur\", this._cmpendBnd, !0);\n      }\n    }\n  };\n\n  _MaskProvider.prototype._valueChanged = function () {\n    if (!this._tbx || !this._msk) return !1;\n    var e = this._tbx,\n        t = e.selectionStart,\n        n = t > 0 ? e.value[t - 1] : \"\",\n        r = e.value;\n    e.value = this._applyMask();\n    \"\" == r && (t = this._firstPos + 1);\n    var i = t > 0 ? e.value[t - 1] : \"\";\n    t > 0 && i == this._promptChar && n != this.promptChar && t--;\n    t == r.length && (t = this._matchEnd);\n\n    this._validatePosition(t);\n\n    return r != e.value;\n  };\n\n  _MaskProvider.prototype._applyMask = function () {\n    var e = this._tbx,\n        t = e.value;\n    this._full = !0;\n    this._matchEnd = 0;\n    if (!this._msk) return t;\n    if (!t && !e.required) return t;\n\n    if (this._overWrite && t.length == this.mask.length + 1) {\n      var n = e.selectionStart;\n      e == document.activeElement && e.selectionEnd == n && (t = t.substr(0, n) + t.substr(n + 1));\n    }\n\n    t = this._handleVagueLiterals(t);\n\n    for (var r = \"\", i = 0, o = this._promptChar, s = 0; s < this._mskArr.length; s++) {\n      var a = this._mskArr[s],\n          l = a.literal;\n      l && l == t[i] && i++;\n\n      if (a.wildCard) {\n        l = o;\n\n        if (t) {\n          for (var u = i; u < t.length; u++) {\n            if (this._isCharValid(a.wildCard, t[u])) {\n              l = t[u];\n\n              switch (a.charCase) {\n                case \">\":\n                  l = l.toUpperCase();\n                  break;\n\n                case \"<\":\n                  l = l.toLowerCase();\n              }\n\n              l != o && (this._matchEnd = r.length + 1);\n              break;\n            }\n          }\n\n          i = u + 1;\n        }\n\n        l == o && (this._full = !1);\n      }\n\n      r += l;\n    }\n\n    return r;\n  };\n\n  _MaskProvider.prototype._handleVagueLiterals = function (e) {\n    if (e.length > this._mskArr.length + 1) return e;\n    var t = e.length - this._mskArr.length;\n\n    if (0 != t && e.length > 1) {\n      for (var n = -1, r = this._tbx, i = r == getActiveElement() ? r.selectionStart : r.value.length, o = Math.max(0, i - t); o < this._mskArr.length; o++) {\n        if (this._mskArr[o].vague) {\n          n = o;\n          break;\n        }\n      }\n\n      if (n > -1) if (t < 0) {\n        var s = Array(1 - t).join(this._promptChar),\n            a = n + t;\n        a > -1 && (e = e.substr(0, a) + s + e.substr(a));\n      } else {\n        for (; n > 0 && this._mskArr[n - 1].literal;) {\n          n--;\n        }\n\n        e = e.substr(0, n) + e.substr(n + t);\n      }\n    }\n\n    return e;\n  };\n\n  _MaskProvider.prototype._isCharValid = function (e, t) {\n    if (t == this._promptChar) return !0;\n\n    switch (e) {\n      case \"0\":\n        return this._isDigit(t);\n\n      case \"9\":\n        return this._isDigit(t) || \" \" == t;\n\n      case \"#\":\n        return this._isDigit(t) || \" \" == t || \"+\" == t || \"-\" == t;\n\n      case \"L\":\n        return this._isLetter(t);\n\n      case \"l\":\n        return this._isLetter(t) || \" \" == t;\n\n      case \"A\":\n        return this._isDigit(t) || this._isLetter(t);\n\n      case \"a\":\n        return this._isDigit(t) || this._isLetter(t) || \" \" == t;\n\n      case \"\":\n        return t >= \"\" && t <= \"\";\n\n      case \"\":\n      case \"\":\n        return !(\"\" == e && _MaskProvider._X_DBCS_BIG_HIRA.indexOf(t) > -1) && t >= \"\" && t <= \"\";\n\n      case \"\":\n      case \"\":\n        return !(\"\" == e && _MaskProvider._X_DBCS_BIG_KATA.indexOf(t) > -1) && t >= \"\" && t <= \"\";\n\n      case \"\":\n        return !(t >= \"\" && t <= \"\") && (t <= \"!\" || t >= \"\");\n\n      case \"H\":\n        return t >= \"!\" && t <= \"\" || t >= \"\" && t <= \"\";\n\n      case \"K\":\n      case \"N\":\n        return !(\"N\" == e && _MaskProvider._X_SBCS_BIG_KATA.indexOf(t) > -1) && t >= \"\" && t <= \"\";\n    }\n\n    return !1;\n  };\n\n  _MaskProvider.prototype._isDigit = function (e) {\n    return e >= \"0\" && e <= \"9\";\n  };\n\n  _MaskProvider.prototype._isLetter = function (e) {\n    return e >= \"a\" && e <= \"z\" || e >= \"A\" && e <= \"Z\";\n  };\n\n  _MaskProvider.prototype._validatePosition = function (e) {\n    var t = this._mskArr;\n    if (this._backSpace) for (; e > 0 && e < t.length && t[e - 1].literal;) {\n      e--;\n    }\n    if (0 == e || !this._backSpace) for (; e < t.length && t[e].literal;) {\n      e++;\n    }\n    getActiveElement() == this._tbx && setSelectionRange(this._tbx, e);\n    this._backSpace = !1;\n  };\n\n  _MaskProvider.prototype._parseMask = function () {\n    this._mskArr = [];\n    this._firstPos = -1;\n    this._lastPos = -1;\n\n    for (var e, t = this._msk, n = \"|\", r = 0; t && r < t.length; r++) {\n      switch (t[r]) {\n        case \"0\":\n        case \"9\":\n        case \"#\":\n        case \"A\":\n        case \"a\":\n        case \"L\":\n        case \"l\":\n        case \"\":\n        case \"\":\n        case \"\":\n        case \"\":\n        case \"\":\n        case \"\":\n        case \"K\":\n        case \"N\":\n        case \"H\":\n          this._firstPos < 0 && (this._firstPos = this._mskArr.length);\n          this._lastPos = this._mskArr.length;\n\n          this._mskArr.push(new _MaskElement(t[r], n));\n\n          break;\n\n        case \".\":\n        case \",\":\n        case \":\":\n        case \"/\":\n        case \"$\":\n          switch (t[r]) {\n            case \".\":\n            case \",\":\n              e = culture.Globalize.numberFormat[t[r]];\n              break;\n\n            case \":\":\n            case \"/\":\n              e = culture.Globalize.calendar[t[r]];\n              break;\n\n            case \"$\":\n              e = culture.Globalize.numberFormat.currency.symbol;\n          }\n\n          for (var i = 0; i < e.length; i++) {\n            this._mskArr.push(new _MaskElement(e[i]));\n          }\n\n          break;\n\n        case \"<\":\n        case \">\":\n        case \"|\":\n          n = t[r];\n          break;\n\n        case \"\\\\\":\n          r < t.length - 1 && r++;\n\n          this._mskArr.push(new _MaskElement(t[r]));\n\n          break;\n\n        default:\n          this._mskArr.push(new _MaskElement(t[r]));\n\n      }\n    }\n\n    for (r = 0; r < this._mskArr.length; r++) {\n      var o = this._mskArr[r];\n      if (o.literal) for (i = 0; i < r; i++) {\n        var s = this._mskArr[i];\n\n        if (s.wildCard && this._isCharValid(s.wildCard, o.literal)) {\n          o.vague = !0;\n          break;\n        }\n      }\n    }\n  };\n\n  _MaskProvider._X_DBCS_BIG_HIRA = \"\";\n  _MaskProvider._X_DBCS_BIG_KATA = \"\";\n  _MaskProvider._X_SBCS_BIG_KATA = \"\";\n  return _MaskProvider;\n}();\n\nexport { _MaskProvider };\n\nvar _MaskElement = function _MaskElement(e, t) {\n  if (t) {\n    this.wildCard = e;\n    this.charCase = t;\n  } else this.literal = e;\n};\n\nexport { _MaskElement };\nexport var Aggregate;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Sum = 1] = \"Sum\";\n  e[e.Cnt = 2] = \"Cnt\";\n  e[e.Avg = 3] = \"Avg\";\n  e[e.Max = 4] = \"Max\";\n  e[e.Min = 5] = \"Min\";\n  e[e.Rng = 6] = \"Rng\";\n  e[e.Std = 7] = \"Std\";\n  e[e.Var = 8] = \"Var\";\n  e[e.StdPop = 9] = \"StdPop\";\n  e[e.VarPop = 10] = \"VarPop\";\n  e[e.CntAll = 11] = \"CntAll\";\n  e[e.First = 12] = \"First\";\n  e[e.Last = 13] = \"Last\";\n}(Aggregate || (Aggregate = {}));\nexport function getAggregate(e, t, n) {\n  var r = 0,\n      i = 0,\n      o = 0,\n      s = 0,\n      a = null,\n      l = null,\n      u = null,\n      c = n ? new Binding(n) : null;\n  if ((e = asEnum(e, Aggregate)) == Aggregate.CntAll) return t.length;\n\n  for (var h = 0; h < t.length; h++) {\n    var p = t[h];\n    c && (p = c.getValue(p));\n\n    if (null != p) {\n      if (e == Aggregate.First) return p;\n      r++;\n      (null == a || p < a) && (a = p);\n      (null == l || p > l) && (l = p);\n      u = p;\n\n      if (isNumber(p) && !isNaN(p)) {\n        i++;\n        o += p;\n        s += p * p;\n      } else if (isBoolean(p)) {\n        i++;\n\n        if (1 == p) {\n          o++;\n          s++;\n        }\n      }\n    }\n  }\n\n  var f = 0 == i ? 0 : o / i;\n\n  switch (e) {\n    case Aggregate.Avg:\n      return f;\n\n    case Aggregate.Cnt:\n      return r;\n\n    case Aggregate.Max:\n      return l;\n\n    case Aggregate.Min:\n      return a;\n\n    case Aggregate.Rng:\n      return l - a;\n\n    case Aggregate.Sum:\n      return o;\n\n    case Aggregate.VarPop:\n      return i <= 1 ? 0 : s / i - f * f;\n\n    case Aggregate.StdPop:\n      return i <= 1 ? 0 : Math.sqrt(s / i - f * f);\n\n    case Aggregate.Var:\n      return i <= 1 ? 0 : (s / i - f * f) * i / (i - 1);\n\n    case Aggregate.Std:\n      return i <= 1 ? 0 : Math.sqrt((s / i - f * f) * i / (i - 1));\n\n    case Aggregate.Last:\n      return u;\n  }\n\n  throw \"Invalid aggregate type.\";\n}\n\nvar ArrayBase = function (e) {\n  __extends(ArrayBase, e);\n\n  function ArrayBase() {\n    var t = this;\n    canChangePrototype ? t.length = 0 : t = e.call(this) || this;\n    return t;\n  }\n\n  return ArrayBase;\n}(Array);\n\nexport { ArrayBase };\nvar canChangePrototype = !0;\n\ntry {\n  ArrayBase.prototype = Array.prototype;\n  canChangePrototype = ArrayBase.prototype === Array.prototype;\n} catch (e) {\n  canChangePrototype = !1;\n}\n\nvar symb = \"undefined\" != typeof window ? window.Symbol : null;\n!canChangePrototype && symb && symb.species && Object.defineProperty(ArrayBase, symb.species, {\n  get: function get() {\n    return Array;\n  },\n  enumerable: !1,\n  configurable: !1\n});\n\nvar ObservableArray = function (e) {\n  __extends(ObservableArray, e);\n\n  function ObservableArray(t) {\n    var n = e.call(this) || this;\n    n._updating = 0;\n    n.collectionChanged = new Event();\n\n    if (t) {\n      t = asArray(t);\n      n._updating++;\n\n      for (var r = 0; r < t.length; r++) {\n        n.push(t[r]);\n      }\n\n      n._updating--;\n    }\n\n    return n;\n  }\n\n  ObservableArray.prototype.push = function () {\n    for (var t = this, n = [], r = 0; r < arguments.length; r++) {\n      n[r] = arguments[r];\n    }\n\n    n.forEach(function (n) {\n      e.prototype.push.call(t, n);\n\n      t._raiseCollectionChanged(NotifyCollectionChangedAction.Add, n, t.length - 1);\n    });\n    return this.length;\n  };\n\n  ObservableArray.prototype.shift = function () {\n    var t = e.prototype.shift.call(this);\n\n    this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove, t, 0);\n\n    return t;\n  };\n\n  ObservableArray.prototype.unshift = function () {\n    for (var t = [], n = 0; n < arguments.length; n++) {\n      t[n] = arguments[n];\n    }\n\n    var r = e.prototype.unshift.apply(this, t);\n    1 == t.length ? this._raiseCollectionChanged(NotifyCollectionChangedAction.Add, t[0], 0) : this._raiseCollectionChanged();\n    return r;\n  };\n\n  ObservableArray.prototype.pop = function () {\n    var t = e.prototype.pop.call(this);\n\n    this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove, t, this.length);\n\n    return t;\n  };\n\n  ObservableArray.prototype.splice = function (t, n) {\n    for (var r = [], i = 2; i < arguments.length; i++) {\n      r[i - 2] = arguments[i];\n    }\n\n    var o,\n        s = NotifyCollectionChangedAction,\n        a = this._raiseCollectionChanged.bind(this);\n\n    if (n && r.length) {\n      o = e.prototype.splice.apply(this, [t, n].concat(r));\n      1 == n && 1 == r.length ? a(s.Change, r[0], t) : a();\n    } else if (r.length) {\n      o = e.prototype.splice.apply(this, [t, 0].concat(r));\n      1 == r.length ? a(s.Add, r[0], t) : a();\n    } else {\n      o = e.prototype.splice.call(this, t, n);\n      1 == n ? a(s.Remove, o[0], t) : a();\n    }\n\n    return o;\n  };\n\n  ObservableArray.prototype.slice = function (t, n) {\n    return e.prototype.slice.call(this, t, n);\n  };\n\n  ObservableArray.prototype.indexOf = function (t, n) {\n    return e.prototype.indexOf.call(this, t, n);\n  };\n\n  ObservableArray.prototype.sort = function (t) {\n    var n = e.prototype.sort.call(this, t);\n\n    this._raiseCollectionChanged();\n\n    return n;\n  };\n\n  ObservableArray.prototype.insert = function (e, t) {\n    this.splice(e, 0, t);\n  };\n\n  ObservableArray.prototype.remove = function (e) {\n    var t = this.indexOf(e);\n    t > -1 && this.removeAt(t);\n    return t > -1;\n  };\n\n  ObservableArray.prototype.removeAt = function (e) {\n    this.splice(e, 1);\n  };\n\n  ObservableArray.prototype.setAt = function (e, t) {\n    e >= this.length && (this.length = e + 1);\n    this.splice(e, 1, t);\n  };\n\n  ObservableArray.prototype.clear = function () {\n    this.length && this.splice(0, this.length);\n  };\n\n  ObservableArray.prototype.beginUpdate = function () {\n    this._updating++;\n  };\n\n  ObservableArray.prototype.endUpdate = function () {\n    this._updating--;\n    this._updating <= 0 && this._raiseCollectionChanged();\n  };\n\n  Object.defineProperty(ObservableArray.prototype, \"isUpdating\", {\n    get: function get() {\n      return this._updating > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ObservableArray.prototype.deferUpdate = function (e) {\n    try {\n      this.beginUpdate();\n      e();\n    } finally {\n      this.endUpdate();\n    }\n  };\n\n  ObservableArray.prototype.implementsInterface = function (e) {\n    return \"INotifyCollectionChanged\" == e;\n  };\n\n  ObservableArray.prototype.onCollectionChanged = function (e) {\n    void 0 === e && (e = NotifyCollectionChangedEventArgs.reset);\n    this.isUpdating || this.collectionChanged.raise(this, e);\n  };\n\n  ObservableArray.prototype._raiseCollectionChanged = function (e, t, n) {\n    void 0 === e && (e = NotifyCollectionChangedAction.Reset);\n\n    if (!this.isUpdating) {\n      var r = new NotifyCollectionChangedEventArgs(e, t, n);\n      this.onCollectionChanged(r);\n    }\n  };\n\n  return ObservableArray;\n}(ArrayBase);\n\nexport { ObservableArray };\nexport var SortNulls;\n!function (e) {\n  e[e.Natural = 0] = \"Natural\";\n  e[e.First = 1] = \"First\";\n  e[e.Last = 2] = \"Last\";\n}(SortNulls || (SortNulls = {}));\n\nvar _OBJ_DEPTH = 2,\n    CollectionView = function () {\n  function CollectionView(e, t) {\n    var n = this;\n    this._srcRaw = null;\n    this._src = null;\n    this._ncc = null;\n    this._view = null;\n    this._pgView = null;\n    this._groups = null;\n    this._fullGroups = null;\n    this._digest = \"\";\n    this._idx = -1;\n    this._filter = null;\n    this._filters = new ObservableArray();\n    this._srtDsc = new ObservableArray();\n    this._grpDesc = new ObservableArray();\n    this._newItem = null;\n    this._edtItem = null;\n    this._edtClone = null;\n    this._committing = !1;\n    this._canceling = !1;\n    this._pendingRefresh = !1;\n    this._pendingRemove = !1;\n    this._pgSz = 0;\n    this._pgIdx = 0;\n    this._updating = 0;\n    this._stableSort = !1;\n    this._srtNulls = SortNulls.Last;\n    this._canFilter = !0;\n    this._canGroup = !0;\n    this._canSort = !0;\n    this._canAddNew = !0;\n    this._canCancelEdit = !0;\n    this._canRemove = !0;\n    this._canChangePage = !0;\n    this._refreshOnEdit = !0;\n    this._trackChanges = !1;\n    this._chgAdded = new ObservableArray();\n    this._chgRemoved = new ObservableArray();\n    this._chgEdited = new ObservableArray();\n    this._orgVals = window.Map ? new Map() : null;\n    this._srtCvt = null;\n    this._srtCmp = null;\n    this._getError = null;\n    this._keepCurrentItem = null;\n    this._initializing = !1;\n    this.collectionChanged = new Event();\n    this.sourceCollectionChanging = new Event();\n    this.sourceCollectionChanged = new Event();\n    this.currentChanged = new Event();\n    this.currentChanging = new Event();\n    this.pageChanged = new Event();\n    this.pageChanging = new Event();\n\n    this._srtDsc.collectionChanged.addHandler(function () {\n      n._srtDsc.forEach(function (e) {\n        assert(e instanceof SortDescription, \"sortDescriptions array must contain SortDescription objects.\");\n      });\n\n      n.canSort && n._commitAndRefresh();\n    });\n\n    this._grpDesc.collectionChanged.addHandler(function () {\n      n._grpDesc.forEach(function (e) {\n        assert(e instanceof GroupDescription, \"groupDescriptions array must contain GroupDescription objects.\");\n      });\n\n      n.canGroup && n._commitAndRefresh();\n    });\n\n    this._filters.collectionChanged.addHandler(function () {\n      n._filters.forEach(function (e) {\n        assert(isFunction(e), \"filters array must contain IPredicate functions.\");\n      });\n\n      n.canFilter && n._commitAndRefresh();\n    });\n\n    this.sourceCollection = e || new ObservableArray();\n\n    if (t) {\n      this._initializing = !0;\n      this.deferUpdate(function () {\n        copy(n, t);\n      });\n      this._initializing = !1;\n    }\n\n    null == this._keepCurrentItem && (this._keepCurrentItem = !0);\n  }\n\n  CollectionView.prototype._copy = function (e, t) {\n    switch (e) {\n      case \"sortDescriptions\":\n        var n = this.sortDescriptions;\n        n.deferUpdate(function () {\n          n.clear();\n          asArray(t).forEach(function (e) {\n            isString(e) ? e = new SortDescription(e, !0) : e instanceof SortDescription || !e.property || (e = new SortDescription(e.property, e.ascending));\n            n.push(e);\n          });\n        });\n        return !0;\n\n      case \"groupDescriptions\":\n        var r = this.groupDescriptions;\n        r.deferUpdate(function () {\n          r.clear();\n          t.forEach(function (e) {\n            isString(e) && (e = new PropertyGroupDescription(e));\n            r.push(e);\n          });\n        });\n        return !0;\n\n      case \"currentItem\":\n        this.currentItem = t;\n        return !0;\n    }\n\n    return !1;\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"calculatedFields\", {\n    get: function get() {\n      return this._calcFields;\n    },\n    set: function set(e) {\n      if (e && !window.Proxy) {\n        console.warn(\"** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill).\");\n        e = null;\n      }\n\n      if (e != this._calcFields) {\n        this._calcFields = e;\n        var t = this._srcRaw;\n        this._srcRaw = null;\n        this.sourceCollection = t;\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"newItemCreator\", {\n    get: function get() {\n      return this._itemCreator;\n    },\n    set: function set(e) {\n      this._itemCreator = asFunction(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sortConverter\", {\n    get: function get() {\n      return this._srtCvt;\n    },\n    set: function set(e) {\n      e != this._srtCvt && (this._srtCvt = asFunction(e, !0));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sortComparer\", {\n    get: function get() {\n      return this._srtCmp;\n    },\n    set: function set(e) {\n      e != this._srtCmp && (this._srtCmp = asFunction(e, !0));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"useStableSort\", {\n    get: function get() {\n      return this._stableSort;\n    },\n    set: function set(e) {\n      if (e != this._stableSort) {\n        this._stableSort = asBoolean(e);\n        this.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sortNulls\", {\n    get: function get() {\n      return this._srtNulls;\n    },\n    set: function set(e) {\n      if ((e = asEnum(e, SortNulls)) != this._srtNulls) {\n        this._srtNulls = e;\n        this.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sortNullsFirst\", {\n    get: function get() {\n      return this.sortNulls != SortNulls.Last;\n    },\n    set: function set(e) {\n      _deprecated(\"sortNullsFirst\", \"sortNulls\");\n\n      this.sortNulls = asBoolean(e) ? SortNulls.First : SortNulls.Last;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.getAggregate = function (e, t, n) {\n    return getAggregate(e, n ? this._pgView : this._view, t);\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"trackChanges\", {\n    get: function get() {\n      return this._trackChanges;\n    },\n    set: function set(e) {\n      this._trackChanges = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"refreshOnEdit\", {\n    get: function get() {\n      return this._refreshOnEdit;\n    },\n    set: function set(e) {\n      this._refreshOnEdit = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"itemsAdded\", {\n    get: function get() {\n      return this._chgAdded;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"itemsRemoved\", {\n    get: function get() {\n      return this._chgRemoved;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"itemsEdited\", {\n    get: function get() {\n      return this._chgEdited;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.clearChanges = function () {\n    this._chgAdded.clear();\n\n    this._chgRemoved.clear();\n\n    this._chgEdited.clear();\n\n    this._orgVals && this._orgVals.clear();\n  };\n\n  CollectionView.prototype.implementsInterface = function (e) {\n    switch (e) {\n      case \"ICollectionView\":\n      case \"IEditableCollectionView\":\n      case \"IPagedCollectionView\":\n      case \"INotifyCollectionChanged\":\n        return !0;\n    }\n\n    return !1;\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"getError\", {\n    get: function get() {\n      return this._getError;\n    },\n    set: function set(e) {\n      if (this._getError != e) {\n        this._getError = asFunction(e);\n\n        this._raiseCollectionChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.onCollectionChanged = function (e) {\n    void 0 === e && (e = NotifyCollectionChangedEventArgs.reset);\n    e.action != NotifyCollectionChangedAction.Change || this._committing || this._canceling || e.item == this.currentEditItem || e.item == this.currentAddItem || this._trackItemChanged(e.item);\n    this._updating || this.collectionChanged.raise(this, e);\n  };\n\n  CollectionView.prototype._raiseCollectionChanged = function (e, t, n) {\n    void 0 === e && (e = NotifyCollectionChangedAction.Reset);\n    var r = new NotifyCollectionChangedEventArgs(e, t, n);\n    this.onCollectionChanged(r);\n  };\n\n  CollectionView.prototype.onSourceCollectionChanging = function (e) {\n    this.sourceCollectionChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  CollectionView.prototype.onSourceCollectionChanged = function (e) {\n    this.sourceCollectionChanged.raise(this, e);\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"canFilter\", {\n    get: function get() {\n      return this._canFilter;\n    },\n    set: function set(e) {\n      this._canFilter = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"canGroup\", {\n    get: function get() {\n      return this._canGroup;\n    },\n    set: function set(e) {\n      this._canGroup = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"canSort\", {\n    get: function get() {\n      return this._canSort;\n    },\n    set: function set(e) {\n      this._canSort = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"currentItem\", {\n    get: function get() {\n      return this._pgView && this._idx > -1 && this._idx < this._pgView.length ? this._pgView[this._idx] : null;\n    },\n    set: function set(e) {\n      this.moveCurrentTo(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"currentPosition\", {\n    get: function get() {\n      return this._idx;\n    },\n    set: function set(e) {\n      this.moveCurrentToPosition(asNumber(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"filter\", {\n    get: function get() {\n      return this._filter;\n    },\n    set: function set(e) {\n      if (this._filter != e) {\n        this._filter = asFunction(e);\n        this.canFilter && this.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"filters\", {\n    get: function get() {\n      return this._filters;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"groupDescriptions\", {\n    get: function get() {\n      return this._grpDesc;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"groups\", {\n    get: function get() {\n      return this._groups;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"isEmpty\", {\n    get: function get() {\n      return !this._pgView || !this._pgView.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sortDescriptions\", {\n    get: function get() {\n      return this._srtDsc;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"sourceCollection\", {\n    get: function get() {\n      return this._src;\n    },\n    set: function set(e) {\n      if (e != this._srcRaw) {\n        if (!this.onSourceCollectionChanging(new CancelEventArgs())) return;\n        var t = this.currentPosition;\n        this.commitEdit();\n        null != this._ncc && this._ncc.collectionChanged.removeHandler(this._sourceChanged);\n        this._srcRaw = e;\n        this._src = asArray(e, !1);\n        this._calcFields && (this._src = _getCalculatedArray(this._src, this._calcFields));\n        this._ncc = tryCast(this._src, \"INotifyCollectionChanged\");\n        this._ncc && this._ncc.collectionChanged.addHandler(this._sourceChanged, this);\n        this.clearChanges();\n        this.refresh();\n        this.moveCurrentToFirst();\n        this.onSourceCollectionChanged();\n        this.currentPosition < 0 && t > -1 && this.onCurrentChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype._sourceChanged = function (e, t) {\n    this._updating <= 0 && this.refresh();\n  };\n\n  CollectionView.prototype.contains = function (e) {\n    return this._pgView.indexOf(e) > -1;\n  };\n\n  CollectionView.prototype.moveCurrentTo = function (e) {\n    return this.moveCurrentToPosition(this._pgView.indexOf(e));\n  };\n\n  CollectionView.prototype.moveCurrentToFirst = function () {\n    return this.moveCurrentToPosition(0);\n  };\n\n  CollectionView.prototype.moveCurrentToLast = function () {\n    return this.moveCurrentToPosition(this._pgView.length - 1);\n  };\n\n  CollectionView.prototype.moveCurrentToPrevious = function () {\n    return this._idx > 0 && this.moveCurrentToPosition(this._idx - 1);\n  };\n\n  CollectionView.prototype.moveCurrentToNext = function () {\n    return this.moveCurrentToPosition(this._idx + 1);\n  };\n\n  CollectionView.prototype.moveCurrentToPosition = function (e) {\n    if (e >= -1 && e < this._pgView.length && e != this._idx) {\n      var t = new CancelEventArgs();\n\n      if (this.onCurrentChanging(t)) {\n        var n = this._pgView[e],\n            r = _getTargetObject(n),\n            i = this._edtItem,\n            o = this._newItem;\n\n        i && i != n && i != r ? this.commitEdit() : o && o != n && o != r && this.commitNew();\n        this._idx = e;\n        this.onCurrentChanged();\n      }\n    }\n\n    return this._idx == e;\n  };\n\n  CollectionView.prototype.refresh = function () {\n    if (this._newItem || this._edtItem || this._updating > 0) this._pendingRefresh = !0;else {\n      var e = this.currentItem;\n\n      this._performRefresh();\n\n      this.onCollectionChanged();\n      e == this.currentItem || this._initializing || this.onCurrentChanged();\n    }\n  };\n\n  CollectionView.prototype._commitAndRefresh = function () {\n    if (this.currentEditItem || this.currentAddItem) {\n      this._pendingRefresh = !0;\n      this.commitEdit();\n    } else this.refresh();\n  };\n\n  CollectionView.prototype._performRefresh = function () {\n    if (this._updating > 0) this._pendingRefresh = !0;else {\n      this._pendingRefresh = !1;\n      this._pendingRemove = !1;\n      var e = this.currentItem;\n      this._view = this._src ? this._performFilter(this._src) : [];\n\n      if (this.canSort && this._srtDsc.length > 0) {\n        this._view == this._src && (this._view = this._src.slice());\n\n        this._performSort(this._view);\n      }\n\n      this._groups = this.canGroup ? this._createGroups(this._view) : null;\n      this._fullGroups = this._groups;\n      this._groups && (this._view = this._mergeGroupItems(this._groups));\n      this._pgIdx = clamp(this._pgIdx, 0, this.pageCount - 1);\n      this._pgView = this._getPageView();\n\n      if (this._groups && this.pageCount > 1) {\n        this._groups = this._createGroups(this._pgView);\n\n        this._mergeGroupItems(this._groups);\n      }\n\n      var t = this._keepCurrentItem && null != e ? this._pgView.indexOf(e) : -1;\n      t < 0 && (t = Math.min(this._idx, this._pgView.length - 1));\n      this._idx = t;\n      this._digest = this._getGroupsDigest(this.groups);\n    }\n  };\n\n  CollectionView.prototype._performSort = function (e) {\n    if (this._stableSort) {\n      var t = e.map(function (e, t) {\n        return {\n          item: e,\n          index: t\n        };\n      }),\n          n = this._compareItems();\n\n      t.sort(function (e, t) {\n        var r = n(e.item, t.item);\n        return 0 == r ? e.index - t.index : r;\n      });\n\n      for (var r = 0; r < e.length; r++) {\n        e[r] = t[r].item;\n      }\n    } else e.sort(this._compareItems());\n  };\n\n  CollectionView.prototype._compareItems = function () {\n    var e = this,\n        t = this._srtDsc,\n        n = this._srtCvt,\n        r = this._srtCmp,\n        i = CollectionView._collator,\n        o = !0,\n        s = 0;\n    return function (a, l) {\n      for (var u = 0; u < t.length; u++) {\n        var c = t[u],\n            h = c._bnd.getValue(a),\n            p = c._bnd.getValue(l);\n\n        if (n) {\n          h = n(c, a, h, o);\n          p = n(c, l, p, !1);\n          o = !1;\n        }\n\n        if (r && null != (s = r(h, p))) {\n          if (0 != s) return c.ascending ? +s : -s;\n        } else {\n          h != h && (h = null);\n          p != p && (p = null);\n          if (h !== p && (null == h || null == p)) switch (e._srtNulls) {\n            case SortNulls.First:\n              return null == h ? -1 : 1;\n\n            case SortNulls.Last:\n              return null == h ? 1 : -1;\n\n            default:\n              s = null == h ? -1 : 1;\n              return c.ascending ? +s : -s;\n          }\n\n          if (\"string\" == typeof h && \"string\" == typeof p) {\n            if (i) {\n              if (0 != (s = i.compare(h, p))) return c.ascending ? +s : -s;\n              continue;\n            }\n\n            var f = h.toLowerCase(),\n                d = p.toLowerCase();\n\n            if (f != d) {\n              h = f;\n              p = d;\n            }\n          }\n\n          if (0 != (s = h < p ? -1 : h > p ? 1 : 0)) return c.ascending ? +s : -s;\n        }\n      }\n\n      return 0;\n    };\n  };\n\n  CollectionView.prototype._performFilter = function (e) {\n    return this.canFilter && this._filter || this._filters.length ? e.filter(this._filterItem, this) : e;\n  };\n\n  CollectionView.prototype._filterItem = function (e) {\n    for (var t = !this.canFilter || !this._filter || this._filter(e), n = 0; n < this._filters.length && t; n++) {\n      t = this._filters[n](e);\n    }\n\n    return t;\n  };\n\n  CollectionView.prototype.onCurrentChanged = function (e) {\n    this.currentChanged.raise(this, e);\n  };\n\n  CollectionView.prototype.onCurrentChanging = function (e) {\n    this.currentChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"items\", {\n    get: function get() {\n      return this._pgView;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.beginUpdate = function () {\n    this._updating++;\n  };\n\n  CollectionView.prototype.endUpdate = function (e) {\n    void 0 === e && (e = !0);\n    this._updating--;\n    e && (this._pendingRefresh = !0);\n\n    if (this._updating <= 0) {\n      this._pendingRefresh && this.refresh();\n\n      if (this._pendingRemove) {\n        this._pendingRemove = !1;\n\n        this._raiseCollectionChanged();\n      }\n    }\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"isUpdating\", {\n    get: function get() {\n      return this._updating > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.deferUpdate = function (e, t) {\n    void 0 === t && (t = !0);\n\n    try {\n      this.beginUpdate();\n      e();\n    } finally {\n      this.endUpdate(t);\n    }\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"canAddNew\", {\n    get: function get() {\n      return this._canAddNew;\n    },\n    set: function set(e) {\n      if (e != this._canAddNew) {\n        this._canAddNew = asBoolean(e);\n\n        this._raiseCollectionChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"canCancelEdit\", {\n    get: function get() {\n      return this._canCancelEdit;\n    },\n    set: function set(e) {\n      this._canCancelEdit = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"canRemove\", {\n    get: function get() {\n      return this._canRemove;\n    },\n    set: function set(e) {\n      this._canRemove = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"currentAddItem\", {\n    get: function get() {\n      return this._newItem;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"currentEditItem\", {\n    get: function get() {\n      return this._edtItem;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"isAddingNew\", {\n    get: function get() {\n      return null != this._newItem;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"isEditingItem\", {\n    get: function get() {\n      return null != this._edtItem;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.editItem = function (e) {\n    if (e != this._edtItem && this.moveCurrentTo(e)) {\n      this.commitEdit();\n      this._edtItem = e;\n      this._edtClone = this._extend({}, this._edtItem);\n    }\n  };\n\n  CollectionView.prototype.commitEdit = function () {\n    var e = this._edtItem,\n        t = this._edtClone;\n\n    if (null != e) {\n      this._committing = !0;\n\n      var n = this._getChangedFields(e, t),\n          r = this._pendingRefresh;\n\n      this._edtItem = null;\n      this._edtClone = null;\n\n      var i = this._pgView.indexOf(e),\n          o = this._digest;\n\n      this._needRefresh(n) && this._refreshOnEdit && this._performRefresh();\n      n && this._trackItemChanged(e, t);\n      this._pgView.indexOf(e) != i || o != this._digest || r ? this._raiseCollectionChanged() : this._raiseCollectionChanged(NotifyCollectionChangedAction.Change, e, i);\n      this.commitNew();\n      this._committing = !1;\n\n      if (this.sourceCollection instanceof ObservableArray) {\n        this._updating++;\n        var s = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change, e);\n        this.sourceCollection.onCollectionChanged(s);\n        this._updating--;\n      }\n    }\n  };\n\n  CollectionView.prototype.cancelEdit = function () {\n    var e = this._edtItem;\n\n    if (null != e) {\n      this._edtItem = null;\n      if (!this.canCancelEdit) return;\n\n      var t = this._src.indexOf(e);\n\n      if (t >= 0 && this._edtClone) {\n        this._extend(this._src[t], this._edtClone);\n\n        this._edtClone = null;\n        this._canceling = !0;\n\n        this._raiseCollectionChanged(NotifyCollectionChangedAction.Change, e, t);\n\n        this._canceling = !1;\n\n        if (this._pendingRefresh && this._refreshOnEdit) {\n          this._performRefresh();\n\n          this._raiseCollectionChanged();\n        }\n      }\n    }\n  };\n\n  CollectionView.prototype.addNew = function (e, t) {\n    void 0 === t && (t = !1);\n    this.commitEdit();\n    if (!this.canAddNew) return null;\n    var n = this.sourceCollection;\n    null == e && (e = this.newItemCreator ? this.newItemCreator() : n && n.length ? new n[0].constructor() : {});\n\n    if (null != e) {\n      this._updating++;\n      n.push(e);\n      this._updating--;\n      e = n[n.length - 1];\n      this._newItem = e;\n      this._pgView != this._src && this._pgView.push(e);\n\n      if (this.groups && this.groups.length) {\n        var r = this.groups[this.groups.length - 1];\n        r.items.push(e);\n\n        for (; r.groups && r.groups.length;) {\n          (r = r.groups[r.groups.length - 1]).items.push(e);\n        }\n      }\n\n      this._raiseCollectionChanged(NotifyCollectionChangedAction.Add, e, this._pgView.length - 1);\n\n      this.moveCurrentTo(e);\n      t && this.commitNew();\n    }\n\n    return this._newItem;\n  };\n\n  CollectionView.prototype.commitNew = function () {\n    var e = this._newItem;\n\n    if (null != e) {\n      this._newItem = null;\n\n      var t = this._pgView.indexOf(e),\n          n = this._digest;\n\n      this._refreshOnEdit && this._performRefresh();\n\n      if (this._trackChanges) {\n        var r = this._chgEdited.indexOf(e);\n\n        r > -1 && this._chgEdited.removeAt(r);\n        this._chgAdded.indexOf(e) < 0 && this._chgAdded.push(e);\n      }\n\n      this._pgView.indexOf(e) != t || n != this._digest || this.calculatedFields ? this._raiseCollectionChanged() : this._raiseCollectionChanged(NotifyCollectionChangedAction.Change, e, t);\n    }\n  };\n\n  CollectionView.prototype.cancelNew = function () {\n    var e = this._newItem;\n    null != e && this.remove(e);\n  };\n\n  CollectionView.prototype.remove = function (e) {\n    var t = e == this._newItem;\n    t && (this._newItem = null);\n    e == this._edtItem && this.cancelEdit();\n\n    if (this.canRemove) {\n      var n = this._src.indexOf(e);\n\n      if (n > -1) {\n        var r = this.currentItem;\n        this._updating++;\n\n        this._src.splice(n, 1);\n\n        this._updating--;\n        var i = this._digest;\n        if (this._refreshOnEdit) this._performRefresh();else {\n          this._updating > 0 && (this._pendingRemove = !0);\n\n          var o = this._pgView.indexOf(e);\n\n          o >= 0 && this._pgView.splice(o, 1);\n        }\n\n        if (this._trackChanges) {\n          var s = this._chgAdded.indexOf(e);\n\n          s > -1 && this._chgAdded.removeAt(s);\n\n          var a = this._chgEdited.indexOf(e);\n\n          a > -1 && this._chgEdited.removeAt(a);\n          this._chgRemoved.indexOf(e) < 0 && !t && s < 0 && this._chgRemoved.push(e);\n        }\n\n        var l = this.sortDescriptions.length > 0,\n            u = this.pageSize > 0 && this._pgIdx > -1;\n        l || u || i != this._getGroupsDigest(this.groups) ? this._raiseCollectionChanged() : this._raiseCollectionChanged(NotifyCollectionChangedAction.Remove, e, n);\n        this.currentItem !== r && this.onCurrentChanged();\n      }\n    }\n  };\n\n  CollectionView.prototype.removeAt = function (e) {\n    e = asInt(e);\n    this.remove(this._pgView[e]);\n  };\n\n  CollectionView.prototype._trackItemChanged = function (e, t) {\n    if (this._trackChanges) {\n      var n = this.sourceCollection;\n\n      if (n && n.indexOf(e) > -1) {\n        var r = this._orgVals,\n            i = r ? r.get(e) : null;\n\n        if (t && !i && r) {\n          r.set(e, t);\n          i = t;\n        }\n\n        var o = this._chgEdited.indexOf(e),\n            s = NotifyCollectionChangedAction.Change;\n\n        if (i && this._sameContent(e, i) && o > -1) {\n          this._chgEdited.removeAt(o);\n\n          r.delete(e);\n          return;\n        }\n\n        if (o < 0 && this._chgAdded.indexOf(e) < 0) this._chgEdited.push(e);else if (o > -1) {\n          var a = new NotifyCollectionChangedEventArgs(s, e, o);\n\n          this._chgEdited.onCollectionChanged(a);\n        } else if ((o = this._chgAdded.indexOf(e)) > -1) {\n          a = new NotifyCollectionChangedEventArgs(s, e, o);\n\n          this._chgAdded.onCollectionChanged(a);\n        }\n      }\n    }\n  };\n\n  CollectionView.prototype._extend = function (e, t, n) {\n    void 0 === n && (n = _OBJ_DEPTH);\n\n    for (var r in t) {\n      try {\n        var i = t[r];\n\n        if (n > 0 && isObject(i)) {\n          e[r] = {};\n\n          this._extend(e[r], i, n - 1);\n        } else e[r] = i;\n      } catch (e) {}\n    }\n\n    return e;\n  };\n\n  CollectionView.prototype._getChangedFields = function (e, t, n) {\n    void 0 === n && (n = _OBJ_DEPTH);\n    assert(null != t && null != e, \"Two objects expected.\");\n    var r = {};\n\n    for (var i in t) {\n      try {\n        this._sameValue(e[i], t[i], n) || (r[i] = !0);\n      } catch (e) {}\n    }\n\n    for (var i in e) {\n      try {\n        r[i] || this._sameValue(e[i], t[i], n) || (r[i] = !0);\n      } catch (e) {}\n    }\n\n    var o = Object.keys(r);\n    return o.length ? o : null;\n  };\n\n  CollectionView.prototype._sameValue = function (e, t, n) {\n    void 0 === n && (n = _OBJ_DEPTH);\n    return !(e !== t && !DateTime.equals(e, t)) || !(!isObject(e) || !isObject(t)) && (!(n > 0) || null == this._getChangedFields(e, t, n - 1));\n  };\n\n  CollectionView.prototype._sameContent = function (e, t) {\n    return null == this._getChangedFields(e, t);\n  };\n\n  CollectionView.prototype._needRefresh = function (e) {\n    if (this._pendingRefresh) return !0;\n    if (!e) return !1;\n    if (this._filter) return !0;\n\n    for (var t = 0; t < this._srtDsc.length; t++) {\n      var n = this._getBindingRoot(this._srtDsc[t].property);\n\n      if (e.indexOf(n) > -1) return !0;\n    }\n\n    for (t = 0; t < this._grpDesc.length; t++) {\n      var r = this._grpDesc[t];\n      if (!(r instanceof PropertyGroupDescription)) return !0;\n      n = this._getBindingRoot(r.propertyName);\n      if (e.indexOf(n) > -1) return !0;\n    }\n\n    return !1;\n  };\n\n  CollectionView.prototype._getBindingRoot = function (e) {\n    var t = e.indexOf(\".\");\n    return t > -1 ? e.substr(0, t) : e;\n  };\n\n  Object.defineProperty(CollectionView.prototype, \"canChangePage\", {\n    get: function get() {\n      return this._canChangePage;\n    },\n    set: function set(e) {\n      this._canChangePage = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"isPageChanging\", {\n    get: function get() {\n      return !1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"itemCount\", {\n    get: function get() {\n      return this._pgView.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"pageIndex\", {\n    get: function get() {\n      return this._pgIdx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"pageSize\", {\n    get: function get() {\n      return this._pgSz;\n    },\n    set: function set(e) {\n      if (e != this._pgSz) {\n        this._pgSz = asInt(e);\n        this.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"totalItemCount\", {\n    get: function get() {\n      return this._view.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionView.prototype, \"pageCount\", {\n    get: function get() {\n      return this.pageSize ? Math.ceil(this.totalItemCount / this.pageSize) : 1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionView.prototype.moveToFirstPage = function () {\n    return this.moveToPage(0);\n  };\n\n  CollectionView.prototype.moveToLastPage = function () {\n    return this.moveToPage(this.pageCount - 1);\n  };\n\n  CollectionView.prototype.moveToPreviousPage = function () {\n    return this.moveToPage(this.pageIndex - 1);\n  };\n\n  CollectionView.prototype.moveToNextPage = function () {\n    return this.moveToPage(this.pageIndex + 1);\n  };\n\n  CollectionView.prototype.moveToPage = function (e) {\n    var t = clamp(e, 0, this.pageCount - 1);\n\n    if (t != this._pgIdx) {\n      if (!this.canChangePage) return !1;\n      var n = new PageChangingEventArgs(t);\n\n      if (this.onPageChanging(n) && this.onCurrentChanging(n)) {\n        this.commitEdit();\n        this.commitNew();\n        var r = this.currentItem;\n        this._pgIdx = t;\n        this._pgView = this._getPageView();\n        this._idx = 0;\n        if (this.groupDescriptions && 0 != this.groupDescriptions.length) this.refresh();else {\n          this.onCollectionChanged();\n          r != this.currentItem && this.onCurrentChanged();\n        }\n        this.onPageChanged();\n      }\n    }\n\n    return this._pgIdx == e;\n  };\n\n  CollectionView.prototype.onPageChanged = function (e) {\n    this.pageChanged.raise(this, e);\n  };\n\n  CollectionView.prototype.onPageChanging = function (e) {\n    this.pageChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  CollectionView.prototype._getFullGroup = function (e) {\n    var t = this._getGroupByPath(this._fullGroups, e.level, e._path);\n\n    null != t && (e = t);\n    return e;\n  };\n\n  CollectionView.prototype._getGroupByPath = function (e, t, n) {\n    if (e) for (var r = 0; r < e.length; r++) {\n      var i = e[r];\n      if (i.level == t && i._path == n) return i;\n      if (i.level < t && 0 == n.indexOf(i._path) && null != (i = this._getGroupByPath(i.groups, t, n))) return i;\n    }\n    return null;\n  };\n\n  CollectionView.prototype._getPageView = function () {\n    if (this.pageSize <= 0 || this._pgIdx < 0) return this._view;\n    var e = this._pgSz * this._pgIdx,\n        t = Math.min(e + this._pgSz, this._view.length);\n    return this._view.slice(e, t);\n  };\n\n  CollectionView.prototype._createGroups = function (e) {\n    var t = this;\n    if (!this._grpDesc || !this._grpDesc.length) return null;\n    var n = [],\n        r = {},\n        i = null;\n    e.forEach(function (e) {\n      for (var o = n, s = t._grpDesc.length, a = \"\", l = 0; l < s; l++) {\n        var u = t._grpDesc[l],\n            c = u.groupNameFromItem(e, l),\n            h = l == s - 1;\n\n        if (!(i = r[a]) && isPrimitive(c)) {\n          i = {};\n          r[a] = i;\n        }\n\n        var p = t._getGroup(u, o, i, c, l, h);\n\n        a += \"/\" + c;\n        p._path = a;\n        h && p.items.push(e);\n        o = p.groups;\n      }\n    });\n    return n;\n  };\n\n  CollectionView.prototype._getGroupsDigest = function (e) {\n    for (var t = \"\", n = 0; null != e && n < e.length; n++) {\n      var r = e[n];\n      t += \"{\" + r.name + \":\" + (r.items ? r.items.length : \"*\");\n\n      if (r.groups.length > 0) {\n        t += \",\";\n        t += this._getGroupsDigest(r.groups);\n      }\n\n      t += \"}\";\n    }\n\n    return t;\n  };\n\n  CollectionView.prototype._mergeGroupItems = function (e) {\n    for (var t = [], n = 0; n < e.length; n++) {\n      var r = e[n];\n      if (!r._isBottomLevel) for (var i = this._mergeGroupItems(r.groups), o = 0, s = i.length; o < s; o++) {\n        r._items.push(i[o]);\n      }\n\n      for (o = 0, s = r._items.length; o < s; o++) {\n        t.push(r._items[o]);\n      }\n    }\n\n    return t;\n  };\n\n  CollectionView.prototype._getGroup = function (e, t, n, r, i, o) {\n    var s;\n\n    if (n && isPrimitive(r)) {\n      if (s = n[r]) return s;\n    } else for (var a = 0; a < t.length; a++) {\n      if (e.namesMatch(t[a].name, r)) return t[a];\n    }\n\n    var l = new CollectionViewGroup(e, r, i, o);\n    t.push(l);\n    n && (n[r] = l);\n    return l;\n  };\n\n  CollectionView._collator = \"undefined\" != typeof window && window.Intl && Intl.Collator ? new Intl.Collator() : null;\n  return CollectionView;\n}();\n\nexport { CollectionView };\n\nvar CollectionViewGroup = function () {\n  function CollectionViewGroup(e, t, n, r) {\n    this._gd = e;\n    this._name = t;\n    this._level = n;\n    this._isBottomLevel = r;\n    this._groups = [];\n    this._items = [];\n  }\n\n  Object.defineProperty(CollectionViewGroup.prototype, \"name\", {\n    get: function get() {\n      return this._name;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewGroup.prototype, \"level\", {\n    get: function get() {\n      return this._level;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewGroup.prototype, \"isBottomLevel\", {\n    get: function get() {\n      return this._isBottomLevel;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewGroup.prototype, \"items\", {\n    get: function get() {\n      return this._items;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewGroup.prototype, \"groups\", {\n    get: function get() {\n      return this._groups;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CollectionViewGroup.prototype, \"groupDescription\", {\n    get: function get() {\n      return this._gd;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CollectionViewGroup.prototype.getAggregate = function (e, t, n) {\n    var r = tryCast(n, CollectionView);\n    return getAggregate(e, (r ? r._getFullGroup(this) : this).items, t);\n  };\n\n  return CollectionViewGroup;\n}();\n\nexport { CollectionViewGroup };\nexport var controlBaseClass = \"undefined\" != typeof window && window[\"wj-control-is-element\"] ? HTMLElement : Object;\n\nvar __isES6Mode = !1;\n\ntry {\n  var f = function __c() {};\n\n  f.prototype = Array.prototype;\n  __isES6Mode = f.prototype !== Array.prototype;\n} catch (e) {\n  __isES6Mode = !0;\n}\n\nvar __callSuper = __isES6Mode || controlBaseClass !== Object,\n    ControlBase = function (e) {\n  __extends(ControlBase, e);\n\n  function ControlBase() {\n    var t = this;\n    __callSuper && (t = e.call(this) || this);\n    return t;\n  }\n\n  return ControlBase;\n}(controlBaseClass);\n\nexport { ControlBase };\n\nvar Control = function (e) {\n  __extends(Control, e);\n\n  function Control(t, n, r) {\n    void 0 === n && (n = null);\n    void 0 === r && (r = !1);\n    var i = e.call(this) || this;\n    i._listeners = [];\n    i._pristine = !0;\n    i._focus = !1;\n    i._updating = 0;\n    i._fullUpdate = !1;\n    i.gotFocus = new Event();\n    i.lostFocus = new Event();\n    i.invalidInput = new Event();\n    i.refreshing = new Event();\n    i.refreshed = new Event();\n\n    i._updateWme();\n\n    assert(null == Control.getControl(t), \"Element is already hosting a control.\");\n    var o = getElement(t);\n    assert(null != o, \"Cannot find the host element.\");\n    i._orgTabIndex = o.hasAttribute(\"tabindex\") ? o.tabIndex : 0;\n    i._orgOuter = o.outerHTML;\n    i._orgTag = o.tagName;\n    i._orgAtts = o.attributes;\n    \"INPUT\" != o.tagName && \"SELECT\" != o.tagName || (o = i._replaceWithDiv(o));\n    i._e = o;\n    o[Control._CTRL_KEY] = i;\n    var s = i.addEventListener.bind(i);\n\n    if (1 == r) {\n      i._szCtl = new Size(o.offsetWidth, o.offsetHeight);\n      var a = window.ResizeObserver,\n          l = null;\n      a && (l = i._szObserver = new a(function (e) {\n        return i._resizeObserverCallback(e);\n      }));\n      l ? l.observe(o) : s(window, \"resize\", i._handleResize.bind(i));\n    }\n\n    var u = i._handleFocusBlur.bind(i);\n\n    s(o, \"focus\", u, !0);\n    s(o, \"blur\", u, !0);\n\n    var c = i._handleDisabled.bind(i);\n\n    s(o, \"mousedown\", c, !0);\n    s(o, \"mouseup\", c, !0);\n    s(o, \"click\", c, !0);\n    s(o, \"dblclick\", c, !0);\n    s(o, \"wheel\", c, getEventOptions(!0, !0));\n    s(o, \"keydown\", function (e) {\n      i.isDisabled && e.keyCode != Key.Tab && e.preventDefault();\n    });\n    0 == Control._ctlCnt && _detectTouch(!0);\n    Control._ctlCnt++;\n    return i;\n  }\n\n  Control.prototype.getTemplate = function () {\n    for (var e = Object.getPrototypeOf(this); e; e = Object.getPrototypeOf(e)) {\n      var t = e.constructor.controlTemplate;\n      if (t) return t;\n    }\n\n    return null;\n  };\n\n  Control.prototype.applyTemplate = function (e, t, n, r) {\n    var i = this,\n        o = this._e;\n    e && addClass(o, e);\n    var s = null;\n    t && (s = createElement(t, o));\n\n    for (var a = o.querySelectorAll(\"a.wj-btn\"), l = 0; l < a.length; l++) {\n      var u = a[l];\n      setAttribute(u, \"role\", \"button\", !0);\n      setAttribute(u, \"href\", \"\", !0);\n      setAttribute(u, \"draggable\", !1, !0);\n    }\n\n    var c = o.querySelectorAll(\"button\");\n\n    for (l = 0; l < c.length; l++) {\n      setAttribute(c[l], \"type\", \"button\", !0);\n    }\n\n    var h = o.querySelectorAll(\"input\"),\n        p = 1 == h.length ? h[0] : null;\n\n    if (p) {\n      var f = Control._rxInputAtts;\n\n      this._copyAttributes(p, o.attributes, f);\n\n      this._copyAttributes(p, this._orgAtts, f);\n    }\n\n    if (p && o.id) {\n      for (var d = o; d.parentElement;) {\n        d = d.parentElement;\n      }\n\n      var g = d.querySelector('label[for=\"' + o.id + '\"]');\n\n      if (g instanceof HTMLLabelElement) {\n        var _ = getUniqueId(o.id + \"_input\");\n\n        p.id = _;\n        g.htmlFor = _;\n      }\n    }\n\n    if (p) {\n      var m = p.value,\n          v = document.createEvent(\"HTMLEvents\");\n      v.initEvent(\"change\", !0, !1);\n      this.gotFocus.addHandler(function () {\n        return m = p.value;\n      });\n      this.addEventListener(p, \"focus\", function () {\n        return m = p.value;\n      });\n      this.addEventListener(p, \"input\", function () {\n        i._pristine = !1;\n        setTimeout(function () {\n          return m = p.value;\n        });\n      });\n      this.addEventListener(o, \"blur\", function () {\n        if (!i.containsFocus()) {\n          if (i._pristine) {\n            i._pristine = !1;\n\n            i._updateState();\n          }\n\n          if (m != p.value) {\n            m = p.value;\n            p.dispatchEvent(v);\n          }\n        }\n      }, !0);\n    }\n\n    p ? o.tabIndex = -1 : o.getAttribute(\"tabindex\") || (o.tabIndex = 0);\n\n    this._updateState();\n\n    if (n) for (var b in n) {\n      var y = n[b];\n      this[b] = s.querySelector('[wj-part=\"' + y + '\"]');\n      null == this[b] && s.getAttribute(\"wj-part\") == y && (this[b] = s);\n      if (null == this[b]) throw 'Missing template part: \"' + y + '\"';\n\n      if (y == r) {\n        var C = \"name\",\n            w = o.attributes[C];\n        w && w.value && this[b].setAttribute(C, w.value);\n        C = \"accesskey\";\n\n        if ((w = o.attributes[C]) && w.value) {\n          this[b].setAttribute(C, w.value);\n          o.removeAttribute(C);\n        }\n      }\n    }\n    return s;\n  };\n\n  Control.prototype.dispose = function () {\n    if (this._e) {\n      for (var e = this._e.querySelectorAll(\".wj-control\"), t = 0; t < e.length; t++) {\n        var n = Control.getControl(e[t]);\n        n && n.dispose();\n      }\n\n      if (this._toInv) {\n        clearTimeout(this._toInv);\n        this._toInv = null;\n      }\n\n      if (this._toFocus) {\n        clearTimeout(this._toFocus);\n        this._toFocus = null;\n      }\n\n      var r = this._szObserver;\n      r && r.disconnect();\n      this.removeEventListener();\n\n      for (var i in this) {\n        if (i.length > 2 && 0 == i.indexOf(\"on\")) {\n          (s = this[i[2].toLowerCase() + i.substr(3)]) instanceof Event && s.removeAllHandlers();\n        }\n      }\n\n      var o = this.collectionView;\n      if (o instanceof CollectionView) for (var i in o) {\n        var s;\n        (s = o[i]) instanceof Event && s.removeHandler(null, this);\n      }\n      this._e.parentNode && null != this._orgOuter && (this._e.outerHTML = this._orgOuter);\n      this._e[Control._CTRL_KEY] = null;\n      this._e = this._orgOuter = this._orgTag = this._szObserver = null;\n      Control._ctlCnt--;\n      0 == Control._ctlCnt && _detectTouch(!1);\n    }\n  };\n\n  Control.getControl = function (e) {\n    var t = getElement(e);\n    return t ? asType(t[Control._CTRL_KEY], Control, !0) : null;\n  };\n\n  Object.defineProperty(Control.prototype, \"hostElement\", {\n    get: function get() {\n      return this._e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Control.prototype, \"rightToLeft\", {\n    get: function get() {\n      null == this._rtlDir && (this._rtlDir = !!this._e && \"rtl\" == getComputedStyle(this._e).direction);\n      return this._rtlDir;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Control.prototype.focus = function () {\n    var e = this._e;\n    e && e.offsetHeight && (e.tabIndex >= 0 || !moveFocus(e, 0)) && e.focus();\n  };\n\n  Control.prototype.containsFocus = function () {\n    return this._containsFocusImpl(getActiveElement());\n  };\n\n  Control.prototype._containsFocus = function () {\n    return this._containsFocusImpl(_getActiveElement());\n  };\n\n  Control.prototype._containsFocusImpl = function (e) {\n    return contains(this._e, e, !0);\n  };\n\n  Control.prototype.invalidate = function (e) {\n    var t = this;\n    void 0 === e && (e = !0);\n    this._rtlDir = null;\n    this._fullUpdate = this._fullUpdate || e;\n\n    if (this._toInv) {\n      clearTimeout(this._toInv);\n      this._toInv = null;\n    }\n\n    this.isUpdating || (this._toInv = setTimeout(function () {\n      t.refresh(t._fullUpdate);\n      t._toInv = null;\n    }, Control._REFRESH_INTERVAL));\n  };\n\n  Control.prototype.refresh = function (e) {\n    var t = this;\n    void 0 === e && (e = !0);\n\n    if (!this.isUpdating) {\n      this.onRefreshing();\n      this.refreshed.hasHandlers && setTimeout(function () {\n        t.onRefreshed();\n      });\n    }\n\n    if (!this.isUpdating && this._toInv) {\n      clearTimeout(this._toInv);\n      this._toInv = null;\n      this._fullUpdate = !1;\n    }\n\n    this._updateState();\n\n    this._updateWme();\n  };\n\n  Control.invalidateAll = function (e) {\n    e || (e = document.body);\n    var t = e.children;\n    if (t) for (var n = 0; n < t.length; n++) {\n      Control.invalidateAll(t[n]);\n    }\n    var r = Control.getControl(e);\n    r && r.invalidate();\n  };\n\n  Control.refreshAll = function (e) {\n    e || (e = document.body);\n    if (e.children) for (var t = 0; t < e.children.length; t++) {\n      Control.refreshAll(e.children[t]);\n    }\n    var n = Control.getControl(e);\n    n && n.refresh();\n  };\n\n  Control.disposeAll = function (e) {\n    var t = Control.getControl(e);\n    if (t) t.dispose();else if (e.children) for (var n = 0; n < e.children.length; n++) {\n      Control.disposeAll(e.children[n]);\n    }\n  };\n\n  Control.prototype.beginUpdate = function () {\n    this._updating++;\n  };\n\n  Control.prototype.endUpdate = function () {\n    this._updating--;\n    this._updating <= 0 && this.invalidate();\n  };\n\n  Object.defineProperty(Control.prototype, \"isUpdating\", {\n    get: function get() {\n      return this._updating > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Control.prototype.deferUpdate = function (e) {\n    try {\n      this.beginUpdate();\n      e();\n    } finally {\n      this.endUpdate();\n    }\n  };\n\n  Object.defineProperty(Control.prototype, \"isTouching\", {\n    get: function get() {\n      return Control._touching;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Control.prototype, \"tabOrder\", {\n    get: function get() {\n      return this._orgTabIndex;\n    },\n    set: function set(e) {\n      this._setTabOrder(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Control.prototype._setTabOrder = function (e) {\n    var t = this._e;\n    this._orgTabIndex = e;\n    var n = t.querySelectorAll(\"input\"),\n        r = 1 === n.length ? n[0] : null;\n    t.tabIndex = this.isDisabled || r ? -1 : this._orgTabIndex;\n    r && (r.tabIndex = this._orgTabIndex);\n  };\n\n  Object.defineProperty(Control.prototype, \"isDisabled\", {\n    get: function get() {\n      return this._e && null != this._e.getAttribute(\"disabled\");\n    },\n    set: function set(e) {\n      this._setIsDisabled(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Control.prototype._setIsDisabled = function (e) {\n    if ((e = !!asBoolean(e, !0)) != this.isDisabled) {\n      var t = this._e;\n\n      if (t) {\n        toggleClass(t, \"wj-state-disabled\", e);\n        setAttribute(t, \"disabled\", e ? \"disabled\" : null);\n        t.tabIndex = this.isDisabled || 1 === t.querySelectorAll(\"input\").length ? -1 : this._orgTabIndex;\n\n        for (var n = t.querySelectorAll(\"input,textarea,button,command,fieldset,keygen,optgroup,option,select\"), r = Control._DSBL_KEY, i = 0; i < n.length; i++) {\n          var o = n[i];\n\n          if (e) {\n            o[r] = o.disabled;\n            o.disabled = !0;\n          } else {\n            if (!!closest(o, \".wj-control.wj-state-disabled\")) {\n              o[r] = o.disabled;\n              o.disabled = !0;\n            } else {\n              var s = o[r];\n              isBoolean(s) || (s = !1);\n              o.disabled = s;\n              delete o[r];\n            }\n          }\n        }\n      }\n    }\n  };\n\n  Control.prototype.initialize = function (e) {\n    copy(this, e);\n  };\n\n  Control.prototype.addEventListener = function (e, t, n, r, i) {\n    if (e) {\n      null == r && (r = !1);\n      isBoolean(r) && null == i && (t.indexOf(\"touch\") > -1 || t.indexOf(\"wheel\") > -1) && (i = !1);\n      var o = isBoolean(r) && isBoolean(i) ? getEventOptions(r, i) : r;\n      e.addEventListener(t, n, o);\n\n      this._listeners.push({\n        target: e,\n        type: t,\n        fn: n,\n        capture: r\n      });\n    }\n  };\n\n  Control.prototype.removeEventListener = function (e, t, n, r) {\n    for (var i = 0, o = 0; o < this._listeners.length; o++) {\n      var s = this._listeners[o];\n\n      if (!(null != e && e != s.target || null != t && t != s.type || null != n && n != s.fn || null != r && r != s.capture)) {\n        s.target.removeEventListener(s.type, s.fn, s.capture);\n\n        this._listeners.splice(o, 1);\n\n        o--;\n        i++;\n      }\n    }\n\n    return i;\n  };\n\n  Control.prototype.onGotFocus = function (e) {\n    this.gotFocus.raise(this, e);\n  };\n\n  Control.prototype.onLostFocus = function (e) {\n    this.lostFocus.raise(this, e);\n  };\n\n  Control.prototype.onInvalidInput = function (e) {\n    var t = this;\n    this.invalidInput.raise(this, e);\n\n    if (e.cancel) {\n      var n = Control._FOCUS_INTERVAL + 50;\n\n      if (Date.now() - Control._tsInvalidInput > n + 50) {\n        Control._toInvalidInput && clearTimeout(Control._toInvalidInput);\n        Control._toInvalidInput = setTimeout(function () {\n          Control._toInvalidInput = null;\n          Control._tsInvalidInput = Date.now();\n          t.focus();\n        }, n);\n      }\n    }\n\n    this._updateState();\n\n    return !e.cancel;\n  };\n\n  Control.prototype.onRefreshing = function (e) {\n    this.refreshing.raise(this, e);\n  };\n\n  Control.prototype.onRefreshed = function (e) {\n    this.refreshed.raise(this, e);\n  };\n\n  Control.prototype._getProductInfo = function () {\n    return \"B0C3,Control\";\n  };\n\n  Control.prototype._updateWme = function () {\n    var e = this._getProductInfo(),\n        t = Control._toWme,\n        n = _updateWme;\n\n    if (isFunction(n) && !t[e]) {\n      t[e] = !0;\n      n(this, Control._licKey);\n    }\n  };\n\n  Control.prototype._hasPendingUpdates = function () {\n    return null != this._toInv;\n  };\n\n  Control.prototype._handleResize = function () {\n    if (this._e.parentElement) {\n      var e = new Size(this._e.offsetWidth, this._e.offsetHeight);\n\n      if (!e.equals(this._szCtl)) {\n        this._szCtl = e;\n        (e.width || e.height) && this.invalidate();\n      }\n    }\n  };\n\n  Control.prototype._resizeObserverCallback = function (e) {\n    e.forEach(function (e) {\n      var t = Control.getControl(e.target);\n      t && t._handleResize();\n    });\n  };\n\n  Control.prototype._handleFocusBlur = function () {\n    var e = this;\n    this._toFocus || (this._toFocus = setTimeout(function () {\n      e._toFocus = null;\n\n      e._updateFocusState();\n    }, Control._FOCUS_INTERVAL));\n  };\n\n  Control.prototype._updateFocusState = function () {\n    setTimeout(function () {\n      for (var e = EventArgs.empty, t = document.body.querySelectorAll(\".wj-state-focused\"), n = 0; n < t.length; n++) {\n        if ((s = Control.getControl(t[n])) && s._focus && !s.containsFocus()) {\n          removeClass(s._e, \"wj-state-focus\");\n          s._focus = !1;\n\n          s._updateState();\n\n          s.onLostFocus(e);\n        }\n      }\n\n      var r = getActiveElement();\n      if (r) for (var i = !0, o = r; o;) {\n        var s;\n\n        if ((s = Control.getControl(o)) && !s._focus && s.containsFocus()) {\n          if (i) {\n            addClass(o, \"wj-state-focus\");\n            i = !1;\n          }\n\n          s._focus = !0;\n\n          s._updateState();\n\n          s.onGotFocus(e);\n        }\n\n        o = o[Control._OWNR_KEY] || o.parentNode;\n      }\n    });\n  };\n\n  Control.prototype._updateState = function () {\n    var e = this.hostElement;\n\n    if (e) {\n      toggleClass(e, \"wj-state-focused\", this._focus);\n      this._rtlDir = \"rtl\" == getComputedStyle(e).direction;\n      toggleClass(e, \"wj-rtl\", this._rtlDir);\n      var t = e.querySelector(\"input\");\n\n      if (t instanceof HTMLInputElement) {\n        toggleClass(e, \"wj-state-empty\", 0 == t.value.length);\n        toggleClass(e, \"wj-state-readonly\", t.readOnly);\n        var n = t.validationMessage;\n        toggleClass(e, \"wj-state-invalid\", !this._pristine && null != n && n.length > 0);\n      }\n    }\n  };\n\n  Control.prototype._handleDisabled = function (e) {\n    if (this.isDisabled || closest(e.target, \".wj-state-disabled\")) {\n      e.preventDefault();\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  };\n\n  Control.prototype._replaceWithDiv = function (e) {\n    var t = document.createElement(\"div\");\n    e.parentElement.replaceChild(t, e);\n    t.innerHTML = e.innerHTML;\n\n    this._copyAttributes(t, e.attributes, /id|style|class/i);\n\n    return t;\n  };\n\n  Control.prototype._copyAttributes = function (e, t, n) {\n    if (e) for (var r = 0; r < t.length; r++) {\n      var i = t[r].name;\n      i.match(n) && e.setAttribute(i, t[r].value);\n    }\n  };\n\n  Control.prototype._getKeyCode = function (e) {\n    var t = e.keyCode;\n    if (this.rightToLeft) switch (t) {\n      case Key.Right:\n        t = Key.Left;\n        break;\n\n      case Key.Left:\n        t = Key.Right;\n    }\n    return t;\n  };\n\n  Control._toWme = {};\n  Control._ctlCnt = 0;\n  Control._touching = !1;\n  Control._tsInvalidInput = 0;\n  Control._REFRESH_INTERVAL = 10;\n  Control._FOCUS_INTERVAL = 5;\n  Control._ANIM_DEF_DURATION = 400;\n  Control._ANIM_DEF_STEP = 35;\n  Control._CLICK_DELAY = 800;\n  Control._CLICK_REPEAT = 75;\n  Control._CLIPBOARD_DELAY = 100;\n  Control._POPUP_ZINDEX = 1500;\n  Control._SEARCH_DELAY = 500;\n  Control._HOVER_DELAY = 400;\n  Control._LEAVE_DELAY = 600;\n  Control._DRAG_SCROLL_EDGE = 15;\n  Control._DRAG_SCROLL_STEP = 20;\n  Control._CTRL_KEY = \"$WJ-CTRL\";\n  Control._OWNR_KEY = \"$WJ-OWNR\";\n  Control._SCRL_KEY = \"$WJ-SCRL\";\n  Control._TTIP_KEY = \"$WJ-TTIP\";\n  Control._DSBL_KEY = \"$WJ-DSBL\";\n  Control._rxInputAtts = /name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i;\n  return Control;\n}(ControlBase);\n\nexport { Control };\n\nfunction _detectTouch(e) {\n  if (\"ontouchstart\" in window || \"onpointerdown\" in window) {\n    var t = document,\n        n = getEventOptions(!0, !0),\n        r = _handleTouchStart,\n        i = _handleTouchEnd,\n        o = e ? t.addEventListener.bind(t) : t.removeEventListener.bind(t);\n\n    if (\"ontouchstart\" in window) {\n      o(\"touchstart\", r, n);\n      o(\"touchend\", i, n);\n      o(\"touchcancel\", i, n);\n    } else if (\"onpointerdown\" in window) {\n      o(\"pointerdown\", r, n);\n      o(\"pointerup\", i, n);\n      o(\"pointercancel\", i, n);\n    }\n  }\n}\n\nfunction _handleTouchStart(e) {\n  if (null == e.pointerType || \"touch\" == e.pointerType) {\n    if (Control._toTouch) {\n      clearTimeout(Control._toTouch);\n      Control._toTouch = null;\n    }\n\n    Control._touching = !0;\n    var t = e.target,\n        n = getActiveElement();\n\n    if (n && !contains(n, t)) {\n      Control.getControl(closest(n, \".wj-control\")) && t.focus();\n    }\n  }\n}\n\nfunction _handleTouchEnd(e) {\n  if (null == e.pointerType || \"touch\" == e.pointerType) {\n    Control._toTouch = setTimeout(function () {\n      Control._toTouch = null;\n      Control._touching = !1;\n    }, 900);\n\n    if (document.querySelector(\"ion-app\")) {\n      var t = e.target;\n\n      if (closest(t, \".wj-dropdown-panel,.wj-dropdown\")) {\n        t.focus();\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n    }\n  }\n}\n\nvar PrintDocument = function () {\n  function PrintDocument(e) {\n    this._title = null;\n    this._copyCss = !0;\n    null != e && copy(this, e);\n  }\n\n  Object.defineProperty(PrintDocument.prototype, \"title\", {\n    get: function get() {\n      return this._title;\n    },\n    set: function set(e) {\n      this._title = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(PrintDocument.prototype, \"copyCss\", {\n    get: function get() {\n      return this._copyCss;\n    },\n    set: function set(e) {\n      this._copyCss = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  PrintDocument.prototype.addCSS = function (e) {\n    this._css || (this._css = []);\n\n    this._css.push(e);\n  };\n\n  PrintDocument.prototype.append = function (e) {\n    var t = this._getDocument();\n\n    if (isString(e)) t.write(e);else if (e instanceof Element) {\n      e instanceof HTMLElement && Control.refreshAll(e);\n\n      for (var n = e.cloneNode(!0), r = n.querySelectorAll(\"input\"), i = 0; i < r.length; i++) {\n        var o = r[i];\n\n        switch (o.type) {\n          case \"checkbox\":\n            setAttribute(o, \"checked\", !!o.checked || null);\n            setAttribute(o, \"indeterminate\", !!o.indeterminate || null);\n            break;\n\n          case \"radio\":\n            setAttribute(o, \"checked\", !!o.checked || null);\n            break;\n\n          default:\n            setAttribute(o, \"value\", o.value || null);\n        }\n      }\n\n      t.write(n.outerHTML);\n    } else assert(!1, \"content should be an HTML string or an Element.\");\n  };\n\n  PrintDocument.prototype.print = function (e) {\n    var t = this;\n\n    if (this._iframe) {\n      this._close();\n\n      setTimeout(function () {\n        var n = t._iframe.contentWindow,\n            r = \"onafterprint\" in n && !isFirefox();\n        r && (n.onafterprint = function () {\n          t._afterPrint(e);\n        });\n        if (!(isIE() && null == n.document.body) && document.queryCommandSupported(\"print\")) n.document.execCommand(\"print\", !0, null);else {\n          n.focus();\n          n.print();\n        }\n        r || t._afterPrint(e);\n      }, 100);\n    }\n  };\n\n  PrintDocument.prototype._afterPrint = function (e) {\n    document.body.removeChild(this._iframe);\n    this._iframe = null;\n    isFunction(e) && e();\n  };\n\n  PrintDocument.prototype._getDocument = function () {\n    if (!this._iframe) {\n      var e = this._iframe = document.createElement(\"iframe\");\n      addClass(e, \"wj-printdocument\");\n      setCss(e, {\n        position: \"fixed\",\n        left: 32e3,\n        top: 32e3\n      });\n      document.body.appendChild(e);\n    }\n\n    return this._iframe.contentDocument;\n  };\n\n  PrintDocument.prototype._close = function () {\n    var e = this._getDocument();\n\n    e.close();\n    e.title = null != this.title ? this.title : document.title;\n    e.title && e.title.trim() || (e.title = \"\");\n\n    if (this._copyCss) {\n      for (var t = document.head.querySelectorAll(\"LINK\"), n = 0; n < t.length; n++) {\n        var r = t[n];\n\n        if (r.href.match(/\\.css$/i) && r.rel.match(/stylesheet/i)) {\n          var i = httpRequest(r.href, {\n            async: !1\n          });\n\n          this._addStyle(i.responseText);\n        }\n      }\n\n      var o = document.head.querySelectorAll(\"STYLE\");\n\n      for (n = 0; n < o.length; n++) {\n        this._addStyle(o[n].textContent);\n      }\n    }\n\n    if (this._css) for (n = 0; n < this._css.length; n++) {\n      var s = e.createElement(\"style\");\n      i = httpRequest(this._css[n], {\n        async: !1\n      });\n      s.textContent = i.responseText;\n      e.head.appendChild(s);\n    }\n  };\n\n  PrintDocument.prototype._addStyle = function (e) {\n    var t = this._getDocument(),\n        n = t.createElement(\"style\");\n\n    n.textContent = e;\n    t.head.appendChild(n);\n  };\n\n  return PrintDocument;\n}();\n\nexport { PrintDocument };\n\nvar Clipboard = function () {\n  function Clipboard() {}\n\n  Clipboard.copy = function (e) {\n    Clipboard._copyPaste(asString(e), null);\n  };\n\n  Clipboard.paste = function (e) {\n    e = asFunction(e);\n\n    Clipboard._copyPaste(null, e);\n  };\n\n  Clipboard._copyPaste = function (e, t) {\n    for (var n = getActiveElement(), r = closest(n, \".wj-control\"); r && Control.getControl(r);) {\n      r = r.parentElement;\n    }\n\n    if (r = r || document.body) {\n      var i = !1,\n          o = createElement('<textarea class=\"wj-clipboard\">', r, {\n        position: \"fixed\",\n        opacity: \"0\"\n      });\n\n      o.onkeydown = function (e) {\n        return e.preventDefault();\n      };\n\n      o.onchange = function (e) {\n        return e.stopImmediatePropagation();\n      };\n\n      if (isString(e)) {\n        o.value = e;\n        o.select();\n        document.execCommand(\"copy\") && (i = !0);\n      } else {\n        o.select();\n\n        if (isFunction(t) && document.execCommand(\"paste\")) {\n          t(o.value);\n          i = !0;\n        }\n      }\n\n      setTimeout(function () {\n        n.focus({\n          preventScroll: !0\n        });\n        removeChild(o);\n        !i && isFunction(t) && t(o.value);\n      }, Control._CLIPBOARD_DELAY);\n    }\n  };\n\n  return Clipboard;\n}();\n\nexport { Clipboard };\n\nvar _ClickRepeater = function () {\n  function _ClickRepeater(e) {\n    this._isDown = !1;\n    this._mousedownBnd = this._mousedown.bind(this);\n    this._mouseupBnd = this._mouseup.bind(this);\n    this._clickBnd = this._click.bind(this);\n    this.element = e;\n\n    this._connect(!0);\n  }\n\n  Object.defineProperty(_ClickRepeater.prototype, \"element\", {\n    get: function get() {\n      return this._e;\n    },\n    set: function set(e) {\n      this._connect(!1);\n\n      this._e = asType(e, HTMLElement, !0);\n\n      this._connect(!0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_ClickRepeater.prototype, \"disabled\", {\n    get: function get() {\n      return this._disabled;\n    },\n    set: function set(e) {\n      this._disabled = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _ClickRepeater.prototype._connect = function (e) {\n    var t = this;\n    this._e && _ClickRepeater._startEvents.forEach(function (n) {\n      e ? t._e.addEventListener(n, t._mousedownBnd) : t._e.removeEventListener(n, t._mousedownBnd);\n    });\n  };\n\n  _ClickRepeater.prototype._clearTimeouts = function () {\n    if (this._toRepeat) {\n      clearTimeout(this._toRepeat);\n      this._toRepeat = null;\n    }\n\n    if (this._toDelay) {\n      clearTimeout(this._toDelay);\n      this._toDelay = null;\n    }\n  };\n\n  _ClickRepeater.prototype._mousedown = function (e) {\n    var t = this;\n    this._isDown && this._mouseup(null);\n\n    if (!this._disabled) {\n      this._isDown = !0;\n\n      _ClickRepeater._stopEvents.forEach(function (e) {\n        document.addEventListener(e, t._mouseupBnd);\n      });\n\n      this._clearTimeouts();\n\n      this._toDelay = setTimeout(function () {\n        if (t._isDown) {\n          t._click();\n\n          t._toRepeat = setTimeout(t._clickBnd, Control._CLICK_REPEAT);\n        }\n      }, Control._CLICK_DELAY);\n    }\n  };\n\n  _ClickRepeater.prototype._mouseup = function (e) {\n    var t = this;\n    this._isDown && e && \"keydown\" != e.type && this._clicked && e.preventDefault();\n\n    _ClickRepeater._stopEvents.forEach(function (e) {\n      document.removeEventListener(e, t._mouseupBnd);\n    });\n\n    this._clearTimeouts();\n\n    this._isDown = !1;\n    this._clicked = !1;\n  };\n\n  _ClickRepeater.prototype._click = function () {\n    this._clicked = !0;\n\n    this._clearTimeouts();\n\n    if (this._e) {\n      this._e.click();\n\n      this._isDown && (this._toRepeat = setTimeout(this._clickBnd, Control._CLICK_REPEAT));\n    }\n  };\n\n  _ClickRepeater._startEvents = [\"mousedown\", \"touchstart\"];\n  _ClickRepeater._stopEvents = [\"mouseup\", \"mouseout\", \"keydown\", \"touchend\", \"touchcancel\"];\n  return _ClickRepeater;\n}();\n\nexport { _ClickRepeater };\nexport var PopupPosition;\n!function (e) {\n  e[e.Above = 0] = \"Above\";\n  e[e.AboveRight = 1] = \"AboveRight\";\n  e[e.RightTop = 2] = \"RightTop\";\n  e[e.Right = 3] = \"Right\";\n  e[e.RightBottom = 4] = \"RightBottom\";\n  e[e.BelowRight = 5] = \"BelowRight\";\n  e[e.Below = 6] = \"Below\";\n  e[e.BelowLeft = 7] = \"BelowLeft\";\n  e[e.LeftBottom = 8] = \"LeftBottom\";\n  e[e.Left = 9] = \"Left\";\n  e[e.LeftTop = 10] = \"LeftTop\";\n  e[e.AboveLeft = 11] = \"AboveLeft\";\n}(PopupPosition || (PopupPosition = {}));\nexport function showPopup(e, t, n, r, i, o) {\n  void 0 === i && (i = !0);\n  var s = e.offsetHeight || e.offsetWidth,\n      a = n;\n  (isBoolean(n) || null == n) && (a = n ? PopupPosition.AboveLeft : PopupPosition.BelowLeft);\n\n  var l = _getPopupParent(t);\n\n  _addPopupToDOM(e, l);\n\n  _copyPopupStyles(e, t, i);\n\n  Control.refreshAll(e);\n  isFirefox() ? requestAnimationFrame(function () {\n    _updatePopupPosition(e, t, a);\n  }) : _updatePopupPosition(e, t, a);\n  t instanceof HTMLElement && (e[Control._OWNR_KEY] = t);\n\n  if (!s) {\n    _hidePopupOnscroll(e, t, o);\n\n    if (r) return animate(function (t) {\n      return e.style.opacity = t < 1 ? t.toString() : \"\";\n    });\n    e.style.opacity = \"\";\n  }\n\n  return null;\n}\nexport function hidePopup(e, t, n) {\n  void 0 === t && (t = !0);\n  void 0 === n && (n = !1);\n  var r = null;\n  n ? r = animate(function (n) {\n    e.style.opacity = (1 - n).toString();\n\n    if (1 == n) {\n      _hidePopup(e, t);\n\n      e.style.opacity = \"\";\n    }\n  }) : _hidePopup(e, t);\n  return r;\n}\n\nfunction _updatePopupPosition(e, t, n) {\n  var r = _getReferenceRect(e, t),\n      i = _getPopupOffset(e),\n      o = _getPopupPosition(e, r, n, i),\n      s = {\n    position: \"absolute\",\n    zIndex: Control._POPUP_ZINDEX\n  },\n      a = 0 == i.x;\n\n  if (a) {\n    s.left = o.x;\n    s.top = o.y;\n  } else s.transform = \"translate(\" + o.x + \"px, \" + o.y + \"px)\";\n\n  var l = e.getBoundingClientRect().width;\n  setCss(e, s);\n\n  if (a) {\n    var u = l - e.getBoundingClientRect().width;\n    u > 0 && (e.style.left = o.x - Math.ceil(u) + \"px\");\n  }\n}\n\nfunction _hidePopup(e, t) {\n  e.style.display = \"none\";\n  t && e.parentElement && setTimeout(function () {\n    if (\"none\" == e.style.display) {\n      removeChild(e);\n      isFunction(t) && t();\n    }\n  }, Control._FOCUS_INTERVAL + 50);\n  var n = e[Control._SCRL_KEY];\n  n instanceof Control && n.dispose();\n  delete e[Control._SCRL_KEY];\n  delete e[Control._OWNR_KEY];\n}\n\nfunction _isjQueryDialog(e) {\n  var t = window.jQuery,\n      n = isFunction(t) ? t(e) : null;\n  return n && isFunction(n.dialog) && hasClass(e, \"ui-dialog\");\n}\n\nfunction _getPopupParent(e) {\n  var t = document.body;\n\n  if (e instanceof HTMLElement) {\n    if (!contains(document.body, e)) return t;\n\n    for (var n = e; n; n = n.parentElement) {\n      if (\"DIALOG\" == n.tagName || \"ION-CONTENT\" == n.tagName || \"fixed\" == getComputedStyle(n).position) {\n        t = n;\n        break;\n      }\n\n      if (_isjQueryDialog(n)) {\n        t = n.querySelector(\".ui-dialog-content\") || n;\n        break;\n      }\n    }\n  }\n\n  return t;\n}\n\nfunction _addPopupToDOM(e, t) {\n  if (!e.offsetHeight || !e.offsetWidth || e.parentElement != t) {\n    setCss(e, {\n      opacity: \"0\",\n      position: \"fixed\",\n      left: 0,\n      top: 0,\n      transform: \"\",\n      display: \"\"\n    });\n    t.appendChild(e);\n  }\n}\n\nfunction _getPopupOffset(e) {\n  var t = document.body,\n      n = document.documentElement,\n      r = e.parentElement,\n      i = new Point(t.scrollLeft || pageXOffset, t.scrollTop || pageYOffset);\n\n  if (r != t) {\n    var o = r == t ? n : e.offsetParent || r;\n    o == t && (o = r);\n\n    if (o) {\n      var s = o.getBoundingClientRect();\n      i = new Point(o.scrollLeft - s.left, o.scrollTop - s.top);\n    }\n  }\n\n  if (r instanceof HTMLElement) {\n    var a = getComputedStyle(r);\n    i.x -= parseFloat(a.borderLeftWidth);\n    i.y -= parseFloat(a.borderTopWidth);\n  }\n\n  return i;\n}\n\nfunction _copyPopupStyles(e, t, n) {\n  if (t instanceof HTMLElement && n) {\n    var r = n instanceof HTMLElement ? n : t,\n        i = getComputedStyle(r);\n    1 == new Color(i.backgroundColor).a && setCss(e, {\n      color: i.color,\n      backgroundColor: i.backgroundColor,\n      fontFamily: i.fontFamily,\n      fontSize: i.fontSize,\n      fontWeight: i.fontWeight,\n      fontStyle: i.fontStyle\n    });\n  }\n}\n\nfunction _hidePopupOnscroll(e, t, n) {\n  var r = t instanceof MouseEvent ? t.target : t;\n\n  if (r instanceof HTMLElement && r.parentElement != document.body) {\n    var i = Date.now(),\n        o = r.getBoundingClientRect(),\n        s = new Control(document.createElement(\"div\"));\n    e[Control._SCRL_KEY] = s;\n    s.addEventListener(document, \"scroll\", function (a) {\n      if (a.target != e.parentElement && Date.now() - i > 100 && contains(document, r) && !contains(e, a.target) && (a.target != document || null != t && \"fixed\" == e.style.position)) {\n        var l = r.getBoundingClientRect(),\n            u = Math.abs(l.left - o.left),\n            c = Math.abs(l.top - o.top);\n\n        if (u > 1 || c > 1) {\n          isFunction(n) && n();\n\n          _hidePopup(e, !0);\n\n          s.dispose();\n        }\n      }\n    }, !0);\n  }\n}\n\nfunction _getPopupPosition(e, t, n, r) {\n  var i = document.documentElement,\n      o = i.clientWidth,\n      s = i.clientHeight,\n      a = PopupPosition;\n\n  switch (n) {\n    case a.AboveLeft:\n    case a.AboveRight:\n    case a.BelowLeft:\n    case a.BelowRight:\n      if (t) {\n        var l = t.width;\n\n        if (l) {\n          isIE() && (l -= e.offsetWidth - e.clientWidth);\n          e.style.minWidth = l + \"px\";\n        }\n      }\n\n  }\n\n  var u = getComputedStyle(e),\n      c = parseFloat(u.marginTop) + parseFloat(u.marginBottom),\n      h = parseFloat(u.marginLeft) + parseFloat(u.marginRight),\n      p = new Size(e.offsetWidth + h, e.offsetHeight + c),\n      f = new Point((o - p.width) / 2, Math.round((s - p.height) / 2 * .7));\n\n  if (t) {\n    \"rtl\" == u.direction && (n = _getRtlPosition(n));\n    var d = t.left,\n        g = o - t.right;\n    f.x = t.left;\n\n    switch (n) {\n      case a.Above:\n      case a.Below:\n        f.x = t.left + (t.width - p.width) / 2;\n        break;\n\n      case a.AboveLeft:\n      case a.BelowLeft:\n        f.x = t.left;\n        break;\n\n      case a.AboveRight:\n      case a.BelowRight:\n        f.x = t.right - p.width;\n        break;\n\n      case a.Left:\n      case a.LeftTop:\n      case a.LeftBottom:\n        f.x = d >= p.width || d >= g ? t.left - p.width : t.right;\n        break;\n\n      case a.RightTop:\n      case a.RightBottom:\n      case a.Right:\n        f.x = g >= p.width || g >= d ? t.right : t.left - p.width;\n    }\n\n    var _ = t.top,\n        m = s - t.bottom;\n\n    switch (n) {\n      case a.Above:\n      case a.AboveLeft:\n      case a.AboveRight:\n        f.y = _ > p.height || _ > m ? t.top - p.height : t.bottom;\n        break;\n\n      case a.Below:\n      case a.BelowLeft:\n      case a.BelowRight:\n        f.y = m > p.height || m > _ ? t.bottom : t.top - p.height;\n        break;\n\n      case a.LeftTop:\n      case a.RightTop:\n        f.y = t.top;\n        break;\n\n      case a.LeftBottom:\n      case a.RightBottom:\n        f.y = t.bottom - p.height;\n        break;\n\n      case a.Left:\n      case a.Right:\n        f.y = t.bottom - p.height + (p.height - t.height) / 2;\n    }\n  }\n\n  f.x = Math.min(f.x, o - p.width);\n  f.y = Math.min(f.y, s - p.height);\n  f.x = Math.max(0, f.x) + r.x;\n  f.y = Math.max(0, f.y) + r.y;\n  return f;\n}\n\nfunction _getRtlPosition(e) {\n  var t = PopupPosition;\n\n  switch (e) {\n    case t.AboveLeft:\n      return t.AboveRight;\n\n    case t.AboveRight:\n      return t.AboveLeft;\n\n    case t.BelowLeft:\n      return t.BelowRight;\n\n    case t.BelowRight:\n      return t.BelowLeft;\n\n    case t.Left:\n      return t.Right;\n\n    case t.LeftTop:\n      return t.RightTop;\n\n    case t.LeftBottom:\n      return t.RightBottom;\n\n    case t.Right:\n      return t.Left;\n\n    case t.RightTop:\n      return t.LeftTop;\n\n    case t.RightBottom:\n      return t.LeftBottom;\n  }\n\n  return e;\n}\n\nfunction _getReferenceRect(e, t) {\n  return t instanceof MouseEvent ? t.clientX <= 0 && t.clientY <= 0 && t.target instanceof HTMLElement ? Rect.fromBoundingRect(t.target.getBoundingClientRect()) : new Rect(t.pageX - pageXOffset, t.pageY - pageYOffset, 0, 0) : t instanceof Point ? new Rect(t.x, t.y, 0, 0) : t instanceof HTMLElement ? Rect.fromBoundingRect(t.getBoundingClientRect()) : t && null != t.top && null != t.left ? t : null;\n}\n\nvar Tooltip = function () {\n  function Tooltip(e) {\n    this._showAutoTipBnd = this._showAutoTip.bind(this);\n    this._hideAutoTipBnd = this._hideAutoTip.bind(this);\n    this._mousemoveBnd = this._mousemove.bind(this);\n    this._html = !0;\n    this._cssClass = \"\";\n    this._gap = 6;\n    this._isAnimated = !1;\n    this._position = PopupPosition.Above;\n    this._showAtMouse = !1;\n    this._showDelay = 500;\n    this._hideDelay = 0;\n    this._tips = [];\n    this.popup = new Event();\n    copy(this, e);\n  }\n\n  Object.defineProperty(Tooltip.prototype, \"position\", {\n    get: function get() {\n      return this._position;\n    },\n    set: function set(e) {\n      this._position = asEnum(e, PopupPosition);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"isAnimated\", {\n    get: function get() {\n      return this._isAnimated;\n    },\n    set: function set(e) {\n      this._isAnimated = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Tooltip.prototype.setTooltip = function (e, t, n) {\n    e = getElement(e);\n    t = this._getContent(t);\n\n    var r = this._indexOf(e);\n\n    if (r > -1) {\n      this._detach(e);\n\n      this._tips.splice(r, 1);\n    }\n\n    if (t) {\n      this._attach(e);\n\n      this._tips.push({\n        element: e,\n        content: t,\n        position: n\n      });\n    }\n\n    var i = Tooltip._eTip;\n    i && i[Control._TTIP_KEY] == e && (t ? this._setContent(t) : this._hideAutoTip());\n  };\n\n  Tooltip.prototype.getTooltip = function (e) {\n    e = getElement(e);\n\n    for (var t = this._tips, n = 0; n < t.length; n++) {\n      if (t[n].element == e) return t[n].content;\n    }\n\n    return null;\n  };\n\n  Tooltip.prototype.show = function (e, t, n, r) {\n    e = getElement(e);\n    t = this._getContent(t);\n\n    if (e) {\n      null == r && (r = this.position);\n      var i = Tooltip._eTip;\n\n      if (!i) {\n        addClass(i = Tooltip._eTip = document.createElement(\"div\"), \"wj-tooltip\");\n        i.style.visibility = \"none\";\n      }\n\n      addClass(i, this.cssClass);\n\n      this._setContent(t);\n\n      i[Control._TTIP_KEY] = e;\n      var o = new TooltipEventArgs(t, e);\n      this.onPopup(o);\n\n      if (o.content && !o.cancel) {\n        this._setContent(o.content);\n\n        n || (n = Rect.fromBoundingRect(e.getBoundingClientRect()));\n        var s = this.gap,\n            a = PopupPosition;\n        if (s) switch (r) {\n          case a.Above:\n          case a.AboveLeft:\n          case a.AboveRight:\n          case a.Below:\n          case a.BelowLeft:\n          case a.BelowRight:\n            n = n.inflate(0, s);\n            break;\n\n          default:\n            n = n.inflate(s, 0);\n        }\n        showPopup(i, n, r, this.isAnimated);\n        document.addEventListener(\"mousedown\", this._hideAutoTipBnd);\n      }\n    }\n  };\n\n  Tooltip.prototype.hide = function () {\n    var e = Tooltip._eTip;\n\n    if (e) {\n      removeChild(e);\n      removeClass(e, this.cssClass);\n      e.innerHTML = \"\";\n    }\n\n    document.removeEventListener(\"mousedown\", this._hideAutoTipBnd);\n  };\n\n  Tooltip.prototype.dispose = function () {\n    var e = this;\n    this.isVisible && this.hide();\n    var t = this._tips;\n\n    if (t.length) {\n      t.forEach(function (t) {\n        e._detach(t.element);\n      });\n      t.splice(0, t.length);\n    }\n\n    this._clearTimeouts();\n  };\n\n  Object.defineProperty(Tooltip.prototype, \"isVisible\", {\n    get: function get() {\n      var e = Tooltip._eTip;\n      return null != e && null != e.parentElement && e.offsetWidth > 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"isContentHtml\", {\n    get: function get() {\n      return this._html;\n    },\n    set: function set(e) {\n      this._html = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"cssClass\", {\n    get: function get() {\n      return this._cssClass;\n    },\n    set: function set(e) {\n      this._cssClass = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"gap\", {\n    get: function get() {\n      return this._gap;\n    },\n    set: function set(e) {\n      this._gap = asNumber(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"showAtMouse\", {\n    get: function get() {\n      return this._showAtMouse;\n    },\n    set: function set(e) {\n      this._showAtMouse = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"showDelay\", {\n    get: function get() {\n      return this._showDelay;\n    },\n    set: function set(e) {\n      this._showDelay = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Tooltip.prototype, \"hideDelay\", {\n    get: function get() {\n      return this._hideDelay;\n    },\n    set: function set(e) {\n      this._hideDelay = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Tooltip.prototype.onPopup = function (e) {\n    this.popup && this.popup.raise(this, e);\n    return !e.cancel;\n  };\n\n  Tooltip.prototype._indexOf = function (e) {\n    for (var t = 0; t < this._tips.length; t++) {\n      if (this._tips[t].element == e) return t;\n    }\n\n    return -1;\n  };\n\n  Tooltip.prototype._attach = function (e) {\n    e.addEventListener(\"mouseenter\", this._showAutoTipBnd);\n    e.addEventListener(\"mouseleave\", this._hideAutoTipBnd);\n    e.addEventListener(\"click\", this._showAutoTipBnd);\n    this.showAtMouse && e.addEventListener(\"mousemove\", this._mousemoveBnd);\n  };\n\n  Tooltip.prototype._detach = function (e) {\n    e.removeEventListener(\"mouseenter\", this._showAutoTipBnd);\n    e.removeEventListener(\"mouseleave\", this._hideAutoTipBnd);\n    e.removeEventListener(\"click\", this._showAutoTipBnd);\n    e.removeEventListener(\"mousemove\", this._mousemoveBnd);\n  };\n\n  Tooltip.prototype._showAutoTip = function (e) {\n    var t = this;\n    if (!e.defaultPrevented) if (\"click\" != e.type || Control._touching) {\n      var n = \"mouseenter\" == e.type ? this._showDelay : 0,\n          r = this._hideDelay;\n\n      this._clearTimeouts();\n\n      this._eMouse = e;\n      this._toShow = setTimeout(function () {\n        var n = t._indexOf(e.target);\n\n        if (n > -1) {\n          var i = t._tips[n],\n              o = t._eMouse,\n              s = t._showAtMouse ? new Rect(o.clientX, o.clientY, 0, 0) : null,\n              a = i && i.element;\n\n          if (a && (a.offsetHeight || a.offsetWidth)) {\n            var l = Control.getControl(i.element);\n\n            if (null == l || 0 != l.isVisible) {\n              t.show(i.element, i.content, s, i.position);\n              r > 0 && (t._toHide = setTimeout(function () {\n                t.hide();\n              }, r));\n            }\n          }\n        }\n      }, n);\n    } else this._hideAutoTip();\n  };\n\n  Tooltip.prototype._mousemove = function (e) {\n    this._eMouse = e;\n  };\n\n  Tooltip.prototype._hideAutoTip = function () {\n    this._clearTimeouts();\n\n    this.hide();\n  };\n\n  Tooltip.prototype._clearTimeouts = function () {\n    if (this._toShow) {\n      clearTimeout(this._toShow);\n      this._toShow = null;\n    }\n\n    if (this._toHide) {\n      clearTimeout(this._toHide);\n      this._toHide = null;\n    }\n  };\n\n  Tooltip.prototype._getContent = function (e) {\n    if ((e = asString(e)) && \"#\" == e[0]) {\n      var t = getElement(e);\n      t && (e = t.innerHTML);\n    }\n\n    return e;\n  };\n\n  Tooltip.prototype._setContent = function (e) {\n    var t = Tooltip._eTip;\n    t && (this._html ? t.innerHTML = e : t.textContent = e);\n  };\n\n  return Tooltip;\n}();\n\nexport { Tooltip };\n\nvar TooltipEventArgs = function (e) {\n  __extends(TooltipEventArgs, e);\n\n  function TooltipEventArgs(t, n) {\n    var r = e.call(this) || this;\n    r._content = asString(t);\n    r._e = n;\n    return r;\n  }\n\n  Object.defineProperty(TooltipEventArgs.prototype, \"tip\", {\n    get: function get() {\n      return Tooltip._eTip;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(TooltipEventArgs.prototype, \"element\", {\n    get: function get() {\n      return this._e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(TooltipEventArgs.prototype, \"content\", {\n    get: function get() {\n      return this._content;\n    },\n    set: function set(e) {\n      this._content = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return TooltipEventArgs;\n}(CancelEventArgs);\n\nexport { TooltipEventArgs };\n\n_registerModule(\"wijmo\", selfModule);\n\nvar theLic = \"The Wijmo license in this application \",\n    _licStr = {\n  evl: \"Wijmo Evaluation Version ({version})\",\n  prd: theLic + \"is not valid for the <b>{control}</b> control.\",\n  ver: theLic + \"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.\",\n  dmn: theLic + \"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.\",\n  exp: theLic + \"has expired. The license expiration date is <b>{expDate:d}</b>.\",\n  lic: theLic + \"is invalid.\",\n  mss: theLic + \"is not set.\",\n  ctc: 'If you are a customer, you can <a target=\"_blank\" rel=\"noopener\" href=\"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis\">create a license</a> online. Otherwise, you can <a target=\"_blank\" rel=\"noopener\" href=\"https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis\">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href=\"mailto:us.sales@grapecity.com\">us.sales@grapecity.com</a>.',\n  hdr: \"Wijmo License\",\n  cls: \"CLOSE\"\n},\n    _codes = {};\nexport function _updateWme(e, t) {\n  var n = Control._wme;\n  if (!(n && contains(document.body, n) && n.offsetWidth && n.offsetHeight)) if (t) {\n    var r = _getControlCode(e);\n\n    if (!_codes[r]) {\n      _codes[r] = !0;\n\n      _attorn(t, {\n        algorithmCode: \"B0\",\n        publicKey: \"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w==\"\n      }, function (n) {\n        _checkLicense(e, t, n);\n\n        delete _codes[r];\n      }, function () {\n        _checkLicense(e, t, null);\n\n        delete _codes[r];\n      });\n    }\n  } else _checkLicense(e, null, null);\n}\n\nfunction _getControlCode(e) {\n  return e._getProductInfo().split(\",\")[0];\n}\n\nfunction _getControlName(e) {\n  return e._getProductInfo().split(\",\")[1];\n}\n\nfunction _checkLicense(e, t, n) {\n  var r = culture.Licensing || _licStr,\n      i = null;\n  n ? _checkExpiration(e, n) ? _checkVersion(e, n) ? _checkDomain(e, n) ? _checkProductCode(e, n) ? _checkEval(e, n) && (i = r.evl) : i = r.prd : i = r.dmn : i = r.ver : i = r.exp : i = t ? r.lic : r.mss;\n  i && _addWme(e, i += \"<br/><br/>\" + r.ctc, n);\n}\n\nfunction _checkProductCode(e, t) {\n  var n = _getControlCode(e);\n\n  if (n && n.length >= 4) for (var r = 0; r < t.Prd.length; r++) {\n    if (t.Prd[r].C.indexOf(n) > -1) return !0;\n  }\n  return !1;\n}\n\nfunction _checkExpiration(e, t) {\n  if (t.Exp) {\n    var n = t.Exp,\n        r = new Date(parseInt(n.substr(0, 4)) || 0, parseInt(n.substr(4, 2)) - 1 || 0, parseInt(n.substr(6, 2)) || 0);\n    if (Math.ceil((r.valueOf() - Date.now()) / 864e5) <= 0) return !1;\n  }\n\n  return !0;\n}\n\nfunction _checkVersion(e, t) {\n  var n = t.Anl ? t.Anl.ver : null,\n      r = getVersion();\n\n  if (n && r) {\n    return parseInt(n.replace(\"v\", \"\")) + 10 >= parseInt(r.split(\".\")[1]);\n  }\n\n  return !0;\n}\n\nfunction _checkDomain(e, t) {\n  if (_isLocalHost() || !t.Dms) return !0;\n\n  for (var n = location.hostname, r = t.Dms.split(\",\"), i = 0; i < r.length; i++) {\n    if (_checkHost(n, r[i])) return !0;\n  }\n\n  return !1;\n}\n\nfunction _checkHost(e, t) {\n  var n = \"^\" + t.replace(/\\./g, \"\\\\.\").replace(/\\*/g, \"(.*)\") + \"$\",\n      r = new RegExp(n, \"i\").test(e);\n  return r || \"*.\" != t.substr(0, 2) ? r : _checkHost(e, t.substr(2));\n}\n\nfunction _checkEval(e, t) {\n  return !!t && t.Evl;\n}\n\nfunction _isLocalHost() {\n  var e = location,\n      t = atob(\"Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk\");\n  return \"file:\" == e.protocol || new RegExp(t, \"i\").test(e.hostname);\n}\n\nfunction _addWme(e, t, n) {\n  t = _getMessage(e, t, n);\n\n  if (!_codes[\" \"] && !_isLocalHost() && !_checkEval(e, n)) {\n    _codes[\" \"] = !0;\n    var r = culture.Licensing || _licStr,\n        i = createElement('<div style=\"position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;\"><div style=\"position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)\"><div><p style=\"font-size:150%;font-weight:bold\">' + r.hdr + \"</p><p>\" + t + '</p></div><div style=\"text-align:right;margin-top:24pt\"><button style=\"border:none;background:rgba(158,158,158,.2);padding:8px 16px\">' + r.cls + \"</button></div></div></div>\", document.body);\n    i.addEventListener(\"click\", function (e) {\n      e.target instanceof HTMLButtonElement && removeChild(i);\n    });\n  }\n\n  if (!Control._wme) {\n    var o = createElement('<div><a href=\"' + _getWmeHref() + '\" target=\"_blank\" rel=\"noopener\">' + _getMessage(e) + \"</a></div>\"),\n        s = {\n      position: \"fixed\",\n      display: \"block\",\n      visibility: \"visible\",\n      background: \"rgba(240,240,240,.9)\",\n      padding: \"8px 12px\",\n      margin: \"6px\",\n      fontFamily: \"sans-serif\",\n      fontSize: \"14pt\",\n      fontWeight: \"bold\",\n      zIndex: 1e4,\n      opacity: .8,\n      height: \"auto\",\n      width: \"auto\",\n      transform: \"none\"\n    };\n\n    switch (Math.round(100 * Math.random()) % 3) {\n      case 0:\n        s.right = s.bottom = 0;\n        break;\n\n      case 1:\n        s.left = s.bottom = 0;\n        break;\n\n      case 2:\n        s.right = s.top = 0;\n    }\n\n    setCss(o, s);\n    document.body.appendChild(o);\n    Control._wme = o;\n\n    _addClickableTooltip(o, t);\n  }\n}\n\nfunction _addClickableTooltip(e, t) {\n  var n,\n      r = createElement(t);\n  r.className = \"wj-tooltip\";\n  setCss(r, {\n    pointerEvents: \"auto\",\n    padding: \"10px\",\n    margin: \"6px\"\n  });\n  [e, r].forEach(function (e) {\n    e.addEventListener(\"mouseenter\", function () {\n      return trackMouse(!0);\n    });\n    e.addEventListener(\"mouseleave\", function () {\n      return trackMouse(!1);\n    });\n  });\n  var i = 0;\n\n  function trackMouse(t) {\n    i += t ? 1 : -1;\n    n && clearTimeout(n);\n    n = setTimeout(function () {\n      n = null;\n      1 == i ? showPopup(r, e.getBoundingClientRect()) : i < 1 && hidePopup(r);\n    }, 500);\n  }\n}\n\nfunction _getWmeHref() {\n  switch (culture.Globalize.name) {\n    case \"ja\":\n      return \"https://www.grapecity.co.jp/developer/support/wijmo-license\";\n\n    case \"ko\":\n      return \"https://www.grapecity.co.kr/wijmojs#price\";\n\n    default:\n      return \"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis\";\n  }\n}\n\nfunction _getMessage(e, t, n) {\n  if (!t || t.trim().length < 15) {\n    t = (culture.Licensing || _licStr).evl;\n  }\n\n  (!t || t.trim().length < 15) && (t = atob(\"V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p\"));\n  var r = null;\n\n  if (n && n.Exp) {\n    var i = n.Exp;\n    r = new Date(parseInt(i.substr(0, 4)) || 0, parseInt(i.substr(4, 2)) - 1 || 0, parseInt(i.substr(6, 2)) || 0);\n  }\n\n  return t = format(t, {\n    version: getVersion(),\n    domain: location.hostname,\n    control: _getControlName(e),\n    licVer: n && n.Anl ? \"5.\" + n.Anl.ver.replace(\"v\", \"\") + \".*\" : null,\n    licDomain: n ? n.Dms : null,\n    expDate: r\n  });\n}\n\nfunction _attorn(e, t, n, r) {\n  var i = parseKeyData(e, t.algorithmCode);\n  if (!i) return r();\n  var o = i.lic,\n      s = i.prefix + \"#\" + t.algorithmCode;\n  if (tripleHash(s + JSON.stringify(o.D)) != o.H) return r();\n  var a = window.msCrypto || window.crypto,\n      l = a ? a.subtle : null;\n  if (!l || !location.protocol.match(/^https/i)) return n(o.D);\n  var u = {\n    name: \"RSASSA-PKCS1-v1_5\",\n    hash: {\n      name: \"SHA-256\"\n    }\n  },\n      c = {\n    alg: \"RS256\",\n    e: \"AQAB\",\n    kty: \"RSA\",\n    n: str64ToJwkBase64(t.publicKey)\n  };\n  c = window.msCrypto ? str2ArrayBuffer(JSON.stringify(c)) : c;\n\n  try {\n    asPromise(l.importKey(\"jwk\", c, u, !1, [\"verify\"])).then(function (e) {\n      var t = arrayBuffer2Str(str64ToArrayBuffer(str64EncodeUnicode(s + JSON.stringify(o.D))));\n      asPromise(l.verify(u, e, str64ToArrayBuffer(o.S), str2ArrayBuffer(t))).then(function (e) {\n        return e ? n(o.D) : r();\n      });\n    }, function () {\n      return n(o.D);\n    });\n  } catch (e) {\n    return n(o.D);\n  }\n}\n\nvar uint8Array = \"undefined\" == typeof window ? null : window.Uint8Array || window.TypedArray;\n\nfunction parseKeyData(e, t) {\n  try {\n    t = \"#\" + t;\n    var n = e.indexOf(t);\n    if (n > -1) return {\n      prefix: e.substring(0, n),\n      lic: JSON.parse(decode(e.substr(n + t.length)))\n    };\n  } catch (e) {}\n\n  return null;\n}\n\nfunction decode(e) {\n  if (!e) return \"\";\n  var t = unshiftString(e);\n  t = reverseString(t);\n  var n = Math.ceil(t.length / 2);\n  return str64DecodeUnicode(t = (t = (t = t.substr(n) + t.substr(0, n)).replace(\"#\", \"=\")).replace(\"&\", \"==\"));\n}\n\nfunction unshiftString(e) {\n  for (var t = e.split(\"\"), n = t.length - 5; n >= 0; n--) {\n    swapArrayElements(t, n + 1, n + 3, unshiftChar);\n    swapArrayElements(t, n, n + 2, unshiftChar);\n  }\n\n  return t.join(\"\");\n}\n\nfunction swapArrayElements(e, t, n, r) {\n  e.length > 1 && e.splice(n, 1, r(e.splice(t, 1, r(e[n]))[0]));\n}\n\nfunction shiftChar(e, t) {\n  var n = e.charCodeAt(0);\n  return n >= 65 && n <= 90 ? e.toLowerCase() : n >= 97 && n <= 122 ? e.toUpperCase() : n >= 48 && n <= 57 ? String.fromCharCode(48 + (n - 48 + 10 + t) % 10) : e;\n}\n\nfunction unshiftChar(e) {\n  return shiftChar(e, -1);\n}\n\nfunction reverseString(e) {\n  return e.split(\"\").reverse().join(\"\");\n}\n\nfunction str64DecodeUnicode(e) {\n  for (var t = atob(e), n = \"\", r = 0; r < t.length; r++) {\n    n += \"%\" + (\"00\" + t.charCodeAt(r).toString(16)).slice(-2);\n  }\n\n  return decodeURIComponent(n);\n}\n\nfunction arrayBuffer2Str(e) {\n  return String.fromCharCode.apply(null, new uint8Array(e));\n}\n\nfunction str64ToArrayBuffer(e) {\n  for (var t = atob(e), n = t.length, r = new uint8Array(n), i = 0; i < n; i++) {\n    r[i] = t.charCodeAt(i);\n  }\n\n  return r.buffer;\n}\n\nfunction str64EncodeUnicode(e) {\n  return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function (e, t) {\n    return String.fromCharCode(parseInt(t, 16));\n  }));\n}\n\nfunction str64ToJwkBase64(e) {\n  return e.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/\\=+$/, \"\");\n}\n\nfunction str2ArrayBuffer(e) {\n  for (var t = new ArrayBuffer(e.length), n = new uint8Array(t), r = 0, i = e.length; r < i; r++) {\n    n[r] = e.charCodeAt(r);\n  }\n\n  return t;\n}\n\nfunction tripleHash(e) {\n  for (var t = 0, n = 5381, r = 0, i = e.length - 1; i >= 0; i--) {\n    var o = e.charCodeAt(i);\n    t = o + (t << 6) + (t << 16) - t;\n    n = o + ((n << 5) + n);\n    r = o + ((r << 5) - r);\n  }\n\n  var s = t ^ n ^ r;\n  s < 0 && (s = ~s);\n  return s.toString(16).toUpperCase();\n}\n\nfunction asPromise(e) {\n  if (\"oncomplete\" in e) {\n    e.then = function (t, n) {\n      e.resolve = t;\n      e.reject = n;\n    };\n\n    e.oncomplete = function (t) {\n      e.resolve(e.result);\n    };\n\n    e.onerror = function (t) {\n      e.reject();\n    };\n  }\n\n  return e;\n}","map":null,"metadata":{},"sourceType":"module"}